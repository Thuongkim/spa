System.register(["./vendor-legacy-98b246d1.js","./vue-axios.esm.min-legacy-eb37414a.js","./app-legacy-3595deb5.js"],(function(i,o){"use strict";var a,t,n,e,s,r,c,l,d,p,u;return{setters:[i=>{a=i.m,t=i.e,n=i.L,e=i.f,s=i.o,r=i.l,c=i.p,l=i.n,d=i.k},null,i=>{p=i.t,u=i._}],execute:function(){const o={name:"SocialiteLogins",components:{},props:{},setup:()=>({}),data:()=>({loading:!1,window:{},authWindowTitle:"Authentication Login"}),computed:{...a({logins:"auth/logins",token:"auth/token"}),socialLoginsEnabled(){return!!Object.values(this.logins).find((i=>"1"==i))}},watch:{},created(){},mounted(){window.addEventListener("message",this.onMessage,!1)},beforeUnmount(){window.removeEventListener("message",this.onMessage)},updated(){},methods:{...t({popToast:"toast/popToast",fetchOauthUrl:"auth/fetchOauthUrl",saveToken:"auth/saveToken",getUser:"auth/getUser",getUserByToken:"auth/getUserByToken"}),track:p,async socialiteLogin(i){this.track(`Social Login Provider Clicked: ${i}`),this.loading=!0;try{await n.get("/sanctum/csrf-cookie").then((i=>{}));const o=await this.fetchOauthUrl({provider:i}).then((i=>(this.loading=!1,i)));this.window=this.openWindow(o,this.authWindowTitle)}catch(o){this.track(`Social Login Provider Failed to Login: ${i}`,"error","auth-error"),this.popToast({message:"Failed to log in.",timer:1e4,icon:"error"}),this.window.close(),this.loading=!1}},async onMessage(i){const o=this;i.origin===window.origin&&i.data.token&&(o.popToast({message:"Successfully logged in",timer:2500,icon:"success"}),o.track("Social Login Provider Logged in Successfully","login","social login success"),await n.get("/sanctum/csrf-cookie").then((i=>{})),await o.saveToken({token:i.data.token}).then((a=>{o.getUserByToken({token:i.data.token}).then((()=>{setTimeout((()=>{o.$router.push({name:"dashboard"})}),1)}))})))},openWindow(i,o,a={}){"object"==typeof i&&(a=i,i=""),a={url:i,title:o,width:600,height:720,...a};const t=void 0!==window.screenLeft?window.screenLeft:window.screen.left,n=void 0!==window.screenTop?window.screenTop:window.screen.top,e=window.innerWidth||document.documentElement.clientWidth,s=window.innerHeight||document.documentElement.clientHeight;a.left=e/2-a.width/2+t,a.top=s/2-a.height/2+n;const r=Object.keys(a).reduce(((i,o)=>(i.push(`${o}=${a[o]}`),i)),[]).join(","),c=window.open(i,o,r);return window.focus&&c.focus(),c}}},g={class:"flex flex-wrap justify-around"};i("S",u(o,[["render",function(i,o,a,t,n,p){const u=e("tippy");return s(),r("div",g,[1==i.logins.facebook?c((s(),r("span",{key:0,class:l(["fa-brands fa-square-facebook fa-3x mr-3 mb-2 cursor-pointer text-blue-500 opacity-80 transition duration-300 hover:opacity-100",n.loading?"disabled opacity-40":""]),onClick:o[0]||(o[0]=i=>p.socialiteLogin("facebook"))},null,2)),[[u,"Facebook"]]):d("",!0),1==i.logins.twitter?c((s(),r("span",{key:1,class:l(["fa-brands fa-twitter fa-3x mr-3 mb-2 cursor-pointer text-blue-300 opacity-80 transition duration-300 hover:opacity-100",n.loading?"disabled opacity-40":""]),onClick:o[1]||(o[1]=i=>p.socialiteLogin("twitter"))},null,2)),[[u,"Twitter"]]):d("",!0),1==i.logins.instagram?c((s(),r("span",{key:2,class:l(["fa-brands fa-instagram fa-3x mr-3 mb-2 cursor-pointer text-gray-700 opacity-80 transition duration-300 hover:opacity-100",n.loading?"disabled opacity-40":""]),onClick:o[2]||(o[2]=i=>p.socialiteLogin("instagram"))},null,2)),[[u,"Instagram"]]):d("",!0),1==i.logins.github?c((s(),r("span",{key:3,class:l(["fa-brands fa-github fa-3x mr-3 mb-2 cursor-pointer text-gray-800 opacity-80 transition duration-300 hover:opacity-100",n.loading?"disabled opacity-40":""]),onClick:o[3]||(o[3]=i=>p.socialiteLogin("github"))},null,2)),[[u,"GitHub"]]):d("",!0),1==i.logins.youtube?c((s(),r("span",{key:4,class:l(["fa-brands fa-youtube fa-3x mr-3 mb-2 cursor-pointer text-red-500 opacity-80 transition duration-300 hover:opacity-100",n.loading?"disabled opacity-40":""]),onClick:o[4]||(o[4]=i=>p.socialiteLogin("youtube"))},null,2)),[[u,"YouTube"]]):d("",!0),1==i.logins.google?c((s(),r("span",{key:5,class:l(["fa-brands fa-google fa-3x mr-3 mb-2 cursor-pointer text-red-500 opacity-80 transition duration-300 hover:opacity-100",n.loading?"disabled opacity-40":""]),onClick:o[5]||(o[5]=i=>p.socialiteLogin("google"))},null,2)),[[u,"Google"]]):d("",!0),1==i.logins.linkedin?c((s(),r("span",{key:6,class:l(["fa-brands fa-linkedin fa-3x mr-3 mb-2 cursor-pointer text-blue-700 opacity-80 transition duration-300 hover:opacity-100",n.loading?"disabled opacity-40":""]),onClick:o[6]||(o[6]=i=>p.socialiteLogin("linkedin"))},null,2)),[[u,"LinkedIn"]]):d("",!0),1==i.logins.twitch?c((s(),r("span",{key:7,class:l(["fa-brands fa-twitch fa-3x mr-3 mb-2 cursor-pointer text-blue-600 opacity-80 transition duration-300 hover:opacity-100",n.loading?"disabled opacity-40":""]),onClick:o[7]||(o[7]=i=>p.socialiteLogin("twitch"))},null,2)),[[u,"Twitch"]]):d("",!0),1==i.logins.apple?c((s(),r("span",{key:8,class:l(["fa-brands fa-apple fa-3x mr-3 mb-2 cursor-pointer text-gray-800 opacity-80 transition duration-300 hover:opacity-100",n.loading?"disabled opacity-40":""]),onClick:o[8]||(o[8]=i=>p.socialiteLogin("apple"))},null,2)),[[u,"Apple"]]):d("",!0),1==i.logins.microsoft?c((s(),r("span",{key:9,class:l(["fa-brands fa-microsoft fa-3x mr-3 mb-2 cursor-pointer text-blue-300 opacity-80 transition duration-300 hover:opacity-100",n.loading?"disabled opacity-40":""]),onClick:o[9]||(o[9]=i=>p.socialiteLogin("microsoft"))},null,2)),[[u,"Microsoft"]]):d("",!0),1==i.logins.tiktok?c((s(),r("span",{key:10,class:l(["fa-brands fa-tiktok fa-3x mr-3 mb-2 cursor-pointer text-pink-600 opacity-80 transition duration-300 hover:opacity-100",n.loading?"disabled opacity-40":""]),onClick:o[10]||(o[10]=i=>p.socialiteLogin("tiktok"))},null,2)),[[u,"TikTok"]]):d("",!0),1==i.logins.zoho?c((s(),r("span",{key:11,class:l(["fas fa-z fa-3x mr-3 mb-2 cursor-pointer text-yellow-500 opacity-80 transition duration-300 hover:opacity-100",n.loading?"disabled opacity-40":""]),onClick:o[11]||(o[11]=i=>p.socialiteLogin("zoho"))},null,2)),[[u,"Zoho"]]):d("",!0),1==i.logins.stackexchange?c((s(),r("span",{key:12,class:l(["fa-brands fa-stack-exchange fa-3x mr-3 mb-2 cursor-pointer text-blue-400 opacity-80 transition duration-300 hover:opacity-100",n.loading?"disabled opacity-40":""]),onClick:o[12]||(o[12]=i=>p.socialiteLogin("stackexchange"))},null,2)),[[u,"StackExchange"]]):d("",!0),1==i.logins.gitlab?c((s(),r("span",{key:13,class:l(["fa-brands fa-square-gitlab fa-3x mr-3 mb-2 cursor-pointer text-orange-400 opacity-80 transition duration-300 hover:opacity-100",n.loading?"disabled opacity-40":""]),onClick:o[13]||(o[13]=i=>p.socialiteLogin("gitlab"))},null,2)),[[u,"GitLab"]]):d("",!0),1==i.logins.reddit?c((s(),r("span",{key:14,class:l(["fa-brands fa-square-reddit fa-3x mr-3 mb-2 cursor-pointer text-orange-700 opacity-80 transition duration-300 hover:opacity-100",n.loading?"disabled opacity-40":""]),onClick:o[14]||(o[14]=i=>p.socialiteLogin("reddit"))},null,2)),[[u,"GitLab"]]):d("",!0),1==i.logins.snapchat?c((s(),r("span",{key:15,class:l(["fa-brands fa-square-snapchat fa-3x mr-3 mb-2 cursor-pointer text-yellow-400 opacity-80 transition duration-300 hover:opacity-100",n.loading?"disabled opacity-40":""]),onClick:o[15]||(o[15]=i=>p.socialiteLogin("snapchat"))},null,2)),[[u,"Snapchat"]]):d("",!0),1==i.logins.meetup?c((s(),r("span",{key:16,class:l(["fa-brands fa-meetup fa-3x mr-3 mb-2 cursor-pointer text-red-400 opacity-80 transition duration-300 hover:opacity-100",n.loading?"disabled opacity-40":""]),onClick:o[16]||(o[16]=i=>p.socialiteLogin("meetup"))},null,2)),[[u,"Meetup"]]):d("",!0),1==i.logins.atlassian?c((s(),r("span",{key:17,class:l(["fa-brands fa-atlassian fa-3x mr-3 mb-2 cursor-pointer text-blue-800 opacity-80 transition duration-300 hover:opacity-100",n.loading?"disabled opacity-40":""]),onClick:o[17]||(o[17]=i=>p.socialiteLogin("atlassian"))},null,2)),[[u,"Atlassian"]]):d("",!0)])}]]))}}}));
//# sourceMappingURL=SocialiteLogins-legacy-a755dad6.js.map
