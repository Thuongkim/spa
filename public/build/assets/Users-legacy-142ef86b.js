System.register(["./vendor-legacy-98b246d1.js","./app-legacy-3595deb5.js","./default.css_vue_type_style_index_0_src_true_lang-legacy-0541b55c.js","./Errors-legacy-367ae0e4.js","./__commonjsHelpers__-legacy-742540af.js"],(function(e,t){"use strict";var r,a,s,o,i,l,n,d,c,m,u,p,g,f,h,y,b,x,w,U,k,v,C,_,R,T,V,D,E,B,I,$,M,F,S,A,P,j;return{setters:[e=>{r=e.aA,a=e.aB,s=e.aC,o=e.aD,i=e.U,l=e.e,n=e.h,d=e.r,c=e.f,m=e.l,u=e.i,p=e.t,g=e.ad,f=e.ae,h=e.k,y=e.n,b=e.g,x=e.w,w=e.j,U=e.p,k=e.o,v=e.m,C=e.L,_=e.q,R=e.am,T=e.s,V=e.z,D=e.E,E=e.az,B=e.aE},e=>{I=e.C,$=e._},e=>{M=e.P,F=e.A,S=e.s,A=e.c,P=e.a},e=>{j=e.E},null],execute:function(){var t=document.createElement("style");t.textContent="[data-v-a1f3b03d] .multiselect-option{background:transparent;color:#777}[data-v-a1f3b03d] .multiselect-option.is-pointed{background:#10b981;color:#fff}input[data-v-8114f2d7]:focus,select[data-v-8114f2d7]:focus,textarea[data-v-8114f2d7]:focus,button[data-v-8114f2d7]:focus,option[data-v-8114f2d7]:focus{outline:none!important;border:none!important}\n",document.head.appendChild(t);const N={name:"UsersTableRow",components:{LockClosedIcon:r,LockOpenIcon:a,CircleSvg:I,PencilSquareIcon:s,TrashIcon:o,UserCircleIcon:i},props:{user:{type:Object,required:!0},dataReady:{type:Boolean,default:!1},availableRoles:{type:Array,default:null},lockJiggled:{type:Boolean,default:!1}},setup:()=>({}),data:()=>({locked:!0}),computed:{},watch:{lockJiggled(e){this.locked=!0}},created(){},mounted(){},beforeUnmount(){},updated(){},methods:{...l({popToast:"toast/popToast"}),roleClass:e=>"admin"==e?"bg-orange-100 text-orange-800 dark:bg-orange-700 dark:text-gray-100":"super.admin"==e?"bg-blue-100 text-blue-800 dark:bg-blue-700 dark:text-gray-100":"user"==e?"bg-yellow-100 text-yellow-800 dark:bg-yellow-700 dark:text-gray-100":"editor"==e?"bg-green-100 text-green-800 dark:bg-green-700 dark:text-gray-100":"moderator"==e?"bg-red-100 text-red-800 dark:bg-red-700 dark:text-gray-100":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-100",parseDisplayDate:e=>n(e).format("MMM Do YYYY, h:mma"),fireVerification(){const e=this,t=this.user.email_verified_at;let r=`<strong>Verify ${this.user.name}?</strong>`,a="Are you sure you want to <strong>Verify";this.user.name,this.user.email;let s="warning",o="#FF0000",i="#777777",l="Verify",n="Cancel";t&&(r=`<strong>Un-Verify ${this.user.name}?</strong>`,a="Are you sure you want to <strong>Un-Verify",this.user.name,this.user.email,s="warning",o="#FF0000",i="#777777",l="Un-Verify",n="Cancel"),e.$swal.fire({title:r,icon:s,html:a,showCancelButton:!1,showDenyButton:!0,confirmButtonColor:o,denyButtonColor:i,confirmButtonText:l,denyButtonText:n}).then((r=>{r.isConfirmed?t?this.$emit("confirmUnVerifyUser",this.user):this.$emit("confirmVerifyUser",this.user):r.isDenied&&e.popToast({message:"Cancelled",timer:2e3,icon:"error"})}))},triggerEditUser(){this.$emit("editUser",this.user)},triggerDeleteUser(){const e=this,t=`<strong>Delete ${this.user.name}?</strong>`;this.user.name,this.user.email,e.$swal.fire({title:t,icon:"warning",html:"Are you sure you want to <strong>Delete",showCancelButton:!1,showDenyButton:!0,confirmButtonColor:"#FF0000",denyButtonColor:"#777777",confirmButtonText:"Delete",denyButtonText:"Cancel"}).then((t=>{t.isConfirmed?this.$emit("deleteUser",this.user):t.isDenied&&e.popToast({message:"Cancelled",timer:2e3,icon:"error"})}))},triggerUserConfirmEmail(){const e=this,t=`<strong>Send ${this.user.name} verification email</strong>`;this.user.name,this.user.email,e.$swal.fire({title:t,icon:"info",html:"Are you sure you want to <strong>Send ",showCancelButton:!1,showDenyButton:!0,confirmButtonColor:"#10b981",denyButtonColor:"#777777",confirmButtonText:"Confirm Send",denyButtonText:"Cancel"}).then((t=>{t.isConfirmed?this.$emit("sendUserVerification",this.user):t.isDenied&&e.popToast({message:"Cancelled",timer:2e3,icon:"error"})}))},triggerImpersonateUser(){this.$emit("impersonateUserTriggered",this.user)}}},Y={class:"bg-gray-100 text-gray-900 dark:bg-slate-700 dark:text-gray-100"},L={class:"border-b border-gray-300 px-5 py-5 text-sm dark:border-gray-500"},J={class:"flex items-center"},z={class:"h-10 w-10 flex-shrink-0"},O=["src","alt"],q={class:"ml-3"},G={class:"whitespace-nowrap text-xs"},K={class:"border-b border-gray-300 px-5 py-5 text-xs dark:border-gray-500"},H={class:"flex items-center"},Q=["href"],W={class:"whitespace-nowrap border-b border-gray-300 px-5 py-5 text-xs dark:border-gray-500"},X={key:0},Z={class:"border-b border-gray-300 px-5 py-5 text-xs dark:border-gray-500"},ee={key:0,class:"whitespace-nowrap"},te={class:"border-b border-gray-300 px-5 py-5 text-xs dark:border-gray-500"},re={class:"relative inline-block px-3 py-1 font-semibold leading-tight"},ae={class:"whitespace-nowrap"},se=u("span",{class:"far fa-paper fa-fw fa-sm fa-regular fa-envelope"},null,-1),oe={key:0,class:"far fa-circle fa-fw fa-sm"},ie={key:1,class:"far fa-circle-check fa-fw fa-sm"},le={key:0,class:"inset-0 py-1"},ne={class:"whitespace-nowrap border-b border-gray-300 px-5 py-5 text-sm dark:border-gray-500"},de={class:"sr-only"},ce=u("span",{class:"sr-only"},"Edit User",-1),me=u("span",{class:"sr-only"},"Delete User",-1),ue=u("span",{class:"sr-only"},"Impersonate User",-1),pe={name:"UsersTable",components:{Pagination:M,UsersTableRow:$(N,[["render",function(e,t,r,a,s,o){const i=d("AppButton"),l=d("LockClosedIcon"),n=d("LockOpenIcon"),v=d("CircleSvg"),C=d("PencilSquareIcon"),_=d("TrashIcon"),R=d("UserCircleIcon"),T=c("tippy");return k(),m("tr",Y,[u("td",L,[u("div",J,[u("div",z,[u("img",{class:"h-full w-full rounded-full",src:r.user.avatar,alt:r.user.name},null,8,O)]),u("div",q,[u("p",G,p(r.user.name),1)])])]),u("td",K,[u("div",H,[u("a",{class:"whitespace-nowrap",href:"mailto:"+r.user.email,title:"send email"},p(r.user.email),9,Q)])]),u("td",W,[u("p",null,[r.user.roles&&r.user.roles.length?(k(),m("span",X,[(k(!0),m(g,null,f(r.user.roles,(e=>(k(),m("span",{key:"user_"+r.user.id+"_role_"+e.id},[u("span",{class:y(["m-1 inline-block cursor-default whitespace-nowrap rounded px-2.5 py-0.5 text-xs font-bold",o.roleClass(e.slug)])},p(e.name),3)])))),128))])):h("",!0)])]),u("td",Z,[r.user.created_at?(k(),m("p",ee,p(o.parseDisplayDate(r.user.created_at)),1)):h("",!0)]),u("td",te,[u("span",re,[u("div",ae,[u("div",{class:y(["inline rounded px-1 py-0",r.user.email_verified_at?"bg-green-700 text-gray-100":"bg-red-700 text-gray-100"])},p(r.user.email_verified_at?"Verified":"Unverified"),3),r.user.email_verified_at?h("",!0):(k(),b(i,{key:0,disabled:s.locked,loading:!r.dataReady,class:"ml-2 inline-block rounded bg-transparent px-1 py-2 text-xs font-medium leading-snug leading-snug text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg","btn-class":"text-yellow-700 dark:bg-transparent hover:bg-gray-200","btn-class-dark":"bg-transparent dark:bg-transparent dark:hover:bg-gray-900",onClick:o.triggerUserConfirmEmail},{text:x((()=>[se])),_:1},8,["disabled","loading","onClick"])),w(i,{disabled:s.locked,loading:!r.dataReady,class:"ml-1 inline-block rounded bg-transparent px-1 py-2 text-xs font-medium leading-snug leading-snug text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg","btn-class":"text-yellow-700 dark:bg-transparent dark:hover:bg-gray-900 hover:bg-gray-200","btn-class-dark":"bg-transparent dark:bg-transparent dark:hover:bg-gray-900",onClick:o.fireVerification},{text:x((()=>[r.user.email_verified_at?h("",!0):(k(),m("span",oe)),r.user.email_verified_at?(k(),m("span",ie)):h("",!0)])),_:1},8,["disabled","loading","onClick"])]),r.user.email_verified_at?(k(),m("div",le,p(o.parseDisplayDate(r.user.email_verified_at)),1)):h("",!0)])]),u("td",ne,[w(i,{loading:!r.dataReady,class:"mr-2 inline-block rounded px-1 py-1 text-sm font-medium leading-snug leading-snug text-gray-700 shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg dark:text-white","btn-class":(s.locked,"bg-transparent focus:bg-transparent active:bg-transparent dark:focus:bg-transparent dark:active:bg-transparent dark:hover:bg-transparent"),"btn-hover-class":(s.locked,"hover:bg-transparent focus:bg-transparent active:bg-transparent dark:focus:bg-transparent dark:active:bg-transparent dark:hover:bg-transparent"),"btn-class-dark":(s.locked,"bg-transparent focus:bg-transparent active:bg-transparent dark:focus:bg-transparent dark:active:bg-transparent dark:hover:bg-transparent"),"btn-hover-class-dark":(s.locked,"hover:bg-transparent focus:bg-transparent active:bg-transparent dark:focus:bg-transparent dark:active:bg-transparent dark:hover:bg-transparent"),onClick:t[0]||(t[0]=e=>s.locked=!s.locked)},{text:x((()=>[s.locked&&r.dataReady?(k(),b(l,{key:0,class:"ml-2 mr-2 mt-0 h-4 w-4"})):h("",!0),!s.locked&&r.dataReady?(k(),b(n,{key:1,class:"ml-2 mr-2 mt-0 h-4 w-4"})):h("",!0),r.dataReady?h("",!0):(k(),b(v,{key:2,class:"mr-2 h-3 w-3"})),u("span",de,p(s.locked?"Unlock":"Lock")+" User Settings",1)])),_:1},8,["loading","btn-class","btn-hover-class","btn-class-dark","btn-hover-class-dark"]),U((k(),b(i,{warning:"",disabled:s.locked,loading:!r.dataReady,class:"mr-2 px-1 py-1 text-sm",onClick:o.triggerEditUser},{text:x((()=>[r.dataReady?(k(),b(C,{key:0,class:"ml-2 mr-2 mt-0 h-4 w-4"})):h("",!0),r.dataReady?h("",!0):(k(),b(v,{key:1,class:"mr-2 h-3 w-3"})),ce])),_:1},8,["disabled","loading","onClick"])),[[T,"Edit User"]]),U((k(),b(i,{danger:"",disabled:s.locked,loading:!r.dataReady,class:"mr-2 px-1 py-1 text-sm",onClick:o.triggerDeleteUser},{text:x((()=>[r.dataReady?(k(),b(_,{key:0,class:"ml-2 mr-2 mt-0 h-4 w-4"})):h("",!0),r.dataReady?h("",!0):(k(),b(v,{key:1,class:"mr-2 h-3 w-3"})),me])),_:1},8,["disabled","loading","onClick"])),[[T,"Delete User"]]),U((k(),b(i,{secondary:"",disabled:s.locked,loading:!r.dataReady,class:"mr-2 px-1 py-1 text-sm",onClick:o.triggerImpersonateUser},{text:x((()=>[r.dataReady?(k(),b(R,{key:0,class:"ml-2 mr-2 mt-0 h-4 w-4"})):h("",!0),r.dataReady?h("",!0):(k(),b(v,{key:1,class:"mr-2 h-3 w-3"})),ue])),_:1},8,["disabled","loading","onClick"])),[[T,"Impersonate User"]])])])}]])},props:{dataReady:{type:Boolean,default:!1},lockJiggled:{type:Boolean,default:!1},users:{type:Array,default:()=>[]},pagination:{type:Object,default:()=>({})},availableRoles:{type:Array,default:null}},setup:()=>({}),data:()=>({offset:4}),computed:{...v({authenticated:"auth/authenticated",user:"auth/user",roles:"auth/roles"})},watch:{},created(){},mounted(){},beforeUnmount(){},updated(){},methods:{...l({popToast:"toast/popToast"}),getUsers(e){this.$emit("getUsers",e)},confirmUnVerifyUser(e){this.$emit("confirmUnVerifyUser",e)},confirmVerifyUser(e){this.$emit("confirmVerifyUser",e)},deleteUser(e){this.$emit("deleteUser",e)},editUser(e){this.$emit("editUser",e)},sendUserVerification(e){this.$emit("sendUserVerification",e)},impersonateUserTriggered(e){this.$emit("impersonateUserTriggered",e)}}},ge={class:"overflow-x-scroll rounded-lg shadow",style:{width:"100%"}},fe={class:"min-w-full leading-normal","aria-describedby":"Users Table"},he=u("thead",null,[u("tr",{class:"border-b-2 border-gray-300 bg-gray-200 text-gray-600 dark:border-gray-500 dark:bg-slate-900 dark:text-gray-200"},[u("th",{class:"px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider"}," User "),u("th",{class:"px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider"}," Email "),u("th",{class:"px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider"}," Role(s) "),u("th",{class:"whitespace-nowrap px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider"}," Created at "),u("th",{class:"px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider"}," Status "),u("th",{class:"px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider"}," Actions ")])],-1),ye={key:0},be={key:1},xe=[u("tr",{class:"bg-gray-100 text-gray-900 dark:bg-slate-700 dark:text-gray-100"},[u("td",{colspan:"6",class:"pt-10 pb-10 text-center"},[u("span",{class:"fa fa-circle-notch fa-spin fa-5x text-gray-400"})])],-1)],we={key:0,class:"xs:flex-row xs:justify-between flex flex-col items-center px-3 py-3 dark:bg-slate-700"},Ue=$(pe,[["render",function(e,t,r,a,s,o){const i=d("UsersTableRow"),l=d("Pagination");return k(),m("div",ge,[u("table",fe,[he,r.dataReady?(k(),m("tbody",ye,[(k(!0),m(g,null,f(r.users,(e=>(k(),b(i,{key:e.id,user:e,"data-ready":r.dataReady,"available-roles":r.availableRoles,"lock-jiggled":r.lockJiggled,onConfirmUnVerifyUser:o.confirmUnVerifyUser,onConfirmVerifyUser:o.confirmVerifyUser,onDeleteUser:o.deleteUser,onEditUser:o.editUser,onSendUserVerification:o.sendUserVerification,onImpersonateUserTriggered:o.impersonateUserTriggered},null,8,["user","data-ready","available-roles","lock-jiggled","onConfirmUnVerifyUser","onConfirmVerifyUser","onDeleteUser","onEditUser","onSendUserVerification","onImpersonateUserTriggered"])))),128))])):h("",!0),r.dataReady?h("",!0):(k(),m("tbody",be,xe))]),r.dataReady&&r.users&&r.users.length>=1?(k(),m("div",we,[w(l,{pagination:r.pagination,offset:4,onPaginate:o.getUsers},null,8,["pagination","onPaginate"])])):h("",!0)])}]]),ke={name:"UserFormModal",components:{AppModal:F,UserCircleIcon:i,Multiselect:S,Errors:j},props:{showingForm:{type:Boolean,default:!1},newUser:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},user:{type:Object,default:null},availableRoles:{type:Array,default:null},useInlineMessage:{type:Boolean,default:!0}},setup:()=>({}),data:()=>({userName:"",form:{name:null,email:null,password:null,password_confirmation:null,roles:[],theme_dark:!1,email_verified_at:null},submitting:!1,errors:null,changed:!1,ready:!1}),computed:{},watch:{form:{handler(e,t){this.ready&&(this.changed=!0)},deep:!0,immediate:!1}},created(){},mounted(){const e=this;if(e.user){if(e.form=A(e.user),e.user.name&&(e.userName=e.user.name),e.user.roles){const t=e.user.roles;e.form.roles=[];for(const r in t)e.form.roles.push(t[r].id)}setTimeout((()=>{e.ready=!0}),100)}else e.ready=!0},beforeUnmount(){},updated(){},methods:{...l({popToast:"toast/popToast"}),parseDisplayDate:e=>e&&1!=e?n(e).format("MMM Do YYYY, h:mma"):n(new Date).format("MMM Do YYYY, h:mma"),async submit(){this.error=null,this.submitting=!0,this.newUser&&await this.createUser(),this.newUser||await this.updateUser(),this.submitting=!1},async createUser(){await C.post("/api/users/create-user",this.form).then((({data:e})=>{this.$emit("userCreated",e.user),this.popToast({message:"User Successfully Created!",timer:5e3,icon:"success"}),this.submitting=!1})).catch((({response:e})=>{if(422===e.status){const{errors:t}=e.data;this.errors=t}else this.popToast({message:"Error Creating User",timer:5e3,icon:"error"});this.submitting=!1})),this.submitting=!1},async updateUser(){await C.patch(`/api/users/update-user/${this.user.id}`,this.form).then((({data:e})=>{this.$emit("userUpdated",e.user),this.popToast({message:`User ${e.user.name} Successfully Updated!`,timer:5e3,icon:"success"}),this.submitting=!1})).catch((({response:e})=>{if(422===e.status){const{errors:t}=e.data;this.errors=t}else this.popToast({message:"Error Updating User",timer:5e3,icon:"error"});this.submitting=!1})),this.submitting=!1},toggleUserVerified(){this.form.email_verified_at?this.form.email_verified_at=null:this.form.email_verified_at=!0},closeModal(){this.$emit("closeModal")}}},ve=e=>(V("data-v-a1f3b03d"),e=e(),D(),e),Ce={class:"relative mb-3 flex w-full flex-wrap items-stretch"},_e={class:"flex-item relative mb-3 mr-2"},Re=["src","alt"],Te={class:"flex-item relative mb-3 flex-auto"},Ve={class:"absolute absolute right-0 z-10 h-full w-8 items-center justify-center rounded bg-transparent py-3 pr-3 text-center text-base font-normal leading-snug text-slate-300"},De={class:"relative mb-3 flex w-full flex-wrap items-stretch"},Ee={class:"flex-item relative mb-3 flex-auto"},Be={class:"absolute absolute right-0 z-10 h-full w-8 items-center justify-center rounded bg-transparent py-3 pr-3 text-center text-base font-normal leading-snug"},Ie={class:"relative mb-3 flex w-full flex-wrap items-stretch"},$e={class:"flex-item relative mb-3 flex-auto"},Me={class:"absolute absolute right-0 z-10 h-full w-8 items-center justify-center rounded bg-transparent py-3 pr-3 text-center text-base font-normal leading-snug"},Fe={class:"relative mb-3 flex w-full flex-wrap items-stretch"},Se={class:"flex-item relative mb-3 flex-auto"},Ae={class:"absolute absolute right-0 z-10 h-full w-8 items-center justify-center rounded bg-transparent py-3 pr-3 text-center text-base font-normal leading-snug"},Pe={class:"relative mb-3 flex w-full flex-wrap items-stretch"},je={class:"flex-item relative mb-3 ml-2 flex-auto"},Ne={class:"text-xs uppercase"},Ye={class:"mt-2 whitespace-nowrap text-xs"},Le={class:"relative mb-3 flex w-full flex-wrap items-stretch"},Je={class:"flex-item relative mb-3 ml-3 flex-auto"},ze={class:"my-1 mr-3 w-full py-2 sm:flex sm:items-center"},Oe={key:0,class:"fa-solid fa-fw fa-1x fa-circle-notch fa-spin absolute float-left mr-4 text-slate-600",style:{left:"-1.4em",top:"1.2em"}},qe={class:"mt-1 inline-block text-sm"},Ge={class:"relative mb-3 flex w-full flex-wrap items-stretch"},Ke={class:"flex-item relative flex-auto"},He=ve((()=>u("h6",null,"User Roles",-1))),Qe={class:"relative mb-3 mt-5 flex w-full flex-wrap items-stretch"},We={class:"flex-item relative flex-auto text-xs uppercase"},Xe={key:0,class:"float-left"},Ze={class:"text-xs font-bold"},et={class:"flex-item relative flex-auto text-xs uppercase"},tt={key:0,class:"float-right"},rt={class:"text-xs font-bold"},at=ve((()=>u("hr",null,null,-1))),st={style:{width:"100%"}},ot={key:0,class:"fa fa-circle-notch fa-spin ml-3"},it={name:"Users",components:{ChevronRightIcon:E,PerPage:P,UsersTable:Ue,UserPlusIcon:B,CircleSvg:I,UserFormModal:$(ke,[["render",function(e,t,r,a,s,o){const i=d("Errors"),l=d("UserCircleIcon"),n=d("AppButton"),c=d("Multiselect"),g=d("AppModal");return k(),b(g,{"show-modal":r.showingForm,onCloseModal:o.closeModal},{title:x((()=>[_(p(r.newUser?"Create User":"Editing User "+s.userName),1)])),body:x((()=>[s.errors&&r.useInlineMessage?(k(),b(i,{key:0,content:s.errors,errors:s.errors,"container-class":"w-100 mb-5",type:"error",onClose:t[0]||(t[0]=e=>s.errors=null)},null,8,["content","errors"])):h("",!0),u("form",{onSubmit:t[7]||(t[7]=T((()=>{}),["prevent"]))},[u("div",Ce,[u("div",_e,[s.form&&s.form.avatar?(k(),m("img",{key:0,src:s.form.avatar,alt:s.form.name,class:"float-left ml-2 mr-2 mt-1 h-10 w-10 rounded-full"},null,8,Re)):(k(),b(l,{key:1,class:"float-left ml-2 mr-2 mt-1 h-10 w-10 text-gray-500"}))]),u("div",Te,[U(u("input",{id:"name","onUpdate:modelValue":t[1]||(t[1]=e=>s.form.name=e),type:"text",placeholder:"Name",name:"name",class:y(["relative w-full rounded border bg-white bg-white px-3 py-3 pr-10 text-sm shadow outline-none focus:outline-none",s.errors&&s.errors.name?"border-red-500 text-red-600 placeholder-red-500 dark:placeholder-red-600":"border-transparent text-slate-600 placeholder-slate-300 dark:placeholder-slate-400"])},null,2),[[R,s.form.name]]),u("span",Ve,[u("span",{class:y(["fas fa-user",s.errors&&s.errors.name?"text-red-600":"text-slate-300"])},null,2)])])]),u("div",De,[u("div",Ee,[U(u("input",{id:"email","onUpdate:modelValue":t[2]||(t[2]=e=>s.form.email=e),type:"text",placeholder:"E-mail",name:"email",class:y(["relative w-full rounded border bg-white bg-white px-3 py-3 pr-10 text-sm shadow outline-none focus:outline-none",s.errors&&s.errors.email?"border-red-500 text-red-600 placeholder-red-500 dark:text-red-600 dark:placeholder-red-600":"border-transparent text-slate-600 placeholder-slate-300 dark:placeholder-slate-400"])},null,2),[[R,s.form.email]]),u("span",Be,[u("span",{class:y(["fas fa-envelope",s.errors&&s.errors.email?"text-red-600":"text-slate-300"])},null,2)])])]),u("div",Ie,[u("div",$e,[U(u("input",{id:"password","onUpdate:modelValue":t[3]||(t[3]=e=>s.form.password=e),type:"password",placeholder:"Password",name:"password",autocomplete:"on",class:y(["relative w-full rounded border bg-white bg-white px-3 py-3 pr-10 text-sm shadow outline-none focus:outline-none",s.errors&&s.errors.password?"border-red-500 text-red-600 placeholder-red-500 dark:text-red-600 dark:placeholder-red-600":"border-transparent text-slate-600 placeholder-slate-300 dark:placeholder-slate-400"])},null,2),[[R,s.form.password]]),u("span",Me,[u("span",{class:y(["fas fa-user-shield",s.errors&&s.errors.email?"text-red-600":"text-slate-300"])},null,2)])])]),u("div",Fe,[u("div",Se,[U(u("input",{id:"password_confirmation","onUpdate:modelValue":t[4]||(t[4]=e=>s.form.password_confirmation=e),type:"password",placeholder:"Password Confirmation",name:"password_confirmation",autocomplete:"on",class:y(["relative w-full rounded border bg-white bg-white px-3 py-3 pr-10 text-sm shadow outline-none focus:outline-none",s.errors&&s.errors.password?"border-red-500 text-red-600 placeholder-red-500 dark:placeholder-red-600":"border-transparent text-slate-600 placeholder-slate-300 dark:placeholder-slate-400"])},null,2),[[R,s.form.password_confirmation]]),u("span",Ae,[u("span",{class:y(["fas fa-user-shield",s.errors&&s.errors.email?"text-red-600":"text-slate-300"])},null,2)])])]),u("div",Pe,[u("div",je,[u("h6",Ne,[_(" Verified: "),w(n,{disabled:r.loading||s.submitting,class:"float-right ml-3 mb-2 bg-yellow-600 px-1 py-0 text-sm font-medium leading-snug leading-snug text-white shadow-md transition duration-150 ease-in-out hover:bg-yellow-500 hover:shadow-lg focus:shadow-lg active:shadow-lg dark:bg-yellow-500 dark:hover:bg-yellow-600",style:{width:"80px"},onClick:o.toggleUserVerified},{text:x((()=>[_(p(s.form&&s.form.email_verified_at?"Un-Verify":"Verify"),1)])),_:1},8,["disabled","onClick"])]),u("div",Ye,p(s.form&&s.form.email_verified_at?o.parseDisplayDate(s.form.email_verified_at):"Not Verified"),1)])]),u("div",Le,[u("div",Je,[u("div",ze,[u("span",{class:y(r.loading||s.submitting?"default disabled cursor-pointer":"cursor-pointer"),onClick:t[5]||(t[5]=e=>s.form.theme_dark=!s.form.theme_dark)},[u("span",{class:y(["fa-solid fa-fw fa-2x float-left mr-4 text-slate-600 dark:text-gray-300",s.form.theme_dark?"fa-toggle-on":"fa-toggle-off"])},null,2),r.loading?(k(),m("span",Oe)):h("",!0),u("span",qe,p(s.form.theme_dark?"Dark Theme":"Light Theme"),1)],2)])])]),u("div",Ge,[u("div",Ke,[He,w(c,{modelValue:s.form.roles,"onUpdate:modelValue":t[6]||(t[6]=e=>s.form.roles=e),options:r.availableRoles,"track-by":"id",label:"name",mode:"tags",placeholder:"Select user roles"},null,8,["modelValue","options"])])]),u("div",Qe,[u("div",We,[s.form.created_at?(k(),m("div",Xe,[_(" Created at: "),u("div",Ze,p(o.parseDisplayDate(s.form.created_at)),1)])):h("",!0)]),u("div",et,[s.form.updated_at?(k(),m("div",tt,[_(" Updated at: "),u("div",rt,p(o.parseDisplayDate(s.form.updated_at)),1)])):h("",!0)])])],32)])),footer:x((()=>[at,u("div",st,[s.changed?(k(),b(n,{key:0,disabled:r.loading||s.submitting||!s.changed,class:"float-left border border-green-800 bg-transparent bg-transparent text-sm font-medium text-green-800 text-white shadow-md transition duration-150 ease-in-out hover:border-green-900 hover:bg-green-900 hover:text-white hover:shadow-lg focus:shadow-lg active:shadow-lg dark:hover:border-green-800 dark:hover:bg-green-800",onClick:o.submit},{text:x((()=>[_(p(r.newUser?s.submitting?"Creating":"Create":s.submitting?"Updating":"Update")+" ",1),s.submitting?(k(),m("span",ot)):h("",!0)])),_:1},8,["disabled","onClick"])):h("",!0),w(n,{disabled:r.loading||s.submitting,class:"float-right border border-gray-700 bg-transparent bg-transparent text-sm font-medium text-gray-700 text-white shadow-md transition duration-150 ease-in-out hover:border-gray-700 hover:bg-gray-700 hover:text-white hover:shadow-lg focus:shadow-lg active:shadow-lg dark:hover:bg-gray-700",onClick:o.closeModal},{text:x((()=>[_(p(s.changed?"Cancel":"Close"),1)])),_:1},8,["disabled","onClick"])])])),_:1},8,["show-modal","onCloseModal"])}],["__scopeId","data-v-a1f3b03d"]])},props:{},setup:()=>({}),data:()=>({users:[],pagination:{},perPage:10,dataReady:!1,showCreateUserForm:!1,userEditing:null,creatingNewUser:!1,userFormKey:432489,availableRoles:[],rolesDataReady:!1,lockJigled:!1}),computed:{...v({authenticated:"auth/authenticated",user:"auth/user",roles:"auth/roles"})},watch:{},created(){},mounted(){this.getRoles(),this.getUsers()},beforeUnmount(){},updated(){},methods:{...l({popToast:"toast/popToast",verifyResend:"auth/verifyResend",impersonateUser:"auth/impersonateUser"}),perPageChanged(e){this.perPage=parseInt(e),this.pagination.current_page=1,this.getUsers()},async getUsers(e=null){e&&(this.pagination.current_page=e),await C.get(`/api/users?page=${this.pagination.current_page}&per=${this.perPage}`).then((({data:e})=>{this.users=e.data,delete e.data,this.pagination=e,this.dataReady=!0})).catch((({response:e})=>{this.popToast({message:"Error Getting Users",timer:5e3,icon:"error"}),this.dataReady=!0})),this.dataReady=!0},async confirmUnVerifyUser(e){await C.post("/api/users/toggle-verify",{action:"unVerifyUser",user:e}).then((({data:e})=>{this.users=this.users.map((t=>t.id!==e.id?t:e)),this.popToast({message:"Successfully Un-Verified!",timer:5e3,icon:"warning"})})).catch((({response:e})=>{this.popToast({message:"Error Un-Verifying User",timer:5e3,icon:"error"}),this.dataReady=!0}))},async confirmVerifyUser(e){await C.post("/api/users/toggle-verify",{action:"confirmVerifyUser",user:e}).then((({data:e})=>{this.users=this.users.map((t=>t.id!==e.id?t:e)),this.popToast({message:"Successfully Verified!",timer:5e3,icon:"success"})})).catch((({response:e})=>{this.popToast({message:"Error Verifying User",timer:5e3,icon:"error"}),this.dataReady=!0}))},async deleteUser(e){await C.delete(`/api/users/delete/user/${e.id}`).then((({data:e})=>{this.users=this.users.filter((t=>t.id!=e.id)),this.popToast({message:"Successfully Deleted!",timer:5e3,icon:"success"})})).catch((({response:e})=>{this.popToast({message:"Error Deleting User",timer:5e3,icon:"error"}),this.dataReady=!0}))},async getRoles(){this.rolesDataReady=!1,await C.get("/api/roles").then((({data:e})=>{this.availableRoles=e.roles,this.rolesDataReady=!0})).catch((({response:e})=>{this.popToast({message:"Error Getting Roles",timer:5e3,icon:"error"}),this.rolesDataReady=!0}))},triggerCreateUser(){this.userFormKey+=1,this.creatingNewUser=!0,this.showCreateUserForm=!0,this.userEditing=null},triggerUpdateUser(e){this.creatingNewUser=!1,this.userEditing=e},userCreated(e){this.users.push(e),this.getUsers(),this.closeUserForm()},userUpdated(e){this.users=this.users.map((t=>t.id!==e.id?t:e)),this.getUsers(),this.jiggleTheLock(),this.closeUserForm()},jiggleTheLock(){const e=this;e.lockJigled=!0,setTimeout((()=>{e.lockJigled=!1}),1)},closeUserForm(){this.userEditing=null,this.creatingNewUser=!1,this.showCreateUserForm=!1},editUser(e){this.userFormKey+=1,this.userEditing=e,this.creatingNewUser=!1,this.showCreateUserForm=!0},async sendUserVerification(e){try{await this.verifyResend({id:e.id}).then((e=>{this.popToast({message:"Email sent.",timer:5e3,icon:"success"})}))}catch(t){this.popToast({message:"An errored, please try again later.",timer:5e3,icon:"error"})}},async impersonateUserTriggered(e){try{await this.impersonateUser({user:e}).then((e=>{}))}catch(t){this.popToast({message:"Unable To Impersonate User",timer:5e3,icon:"error"})}}}},lt={id:"users",class:"bg-white p-3 dark:bg-slate-800 dark:text-gray-200"},nt={class:"mb-6 text-sm font-semibold","aria-label":"Breadcrumb"},dt={class:"inline-flex list-none p-0"},ct={class:"flex items-center"},mt={class:"flex items-center"},ut={class:"flex items-center"},pt=(e=>(V("data-v-8114f2d7"),e=e(),D(),e))((()=>u("span",{class:"sr-only"},"Create New User",-1)));e("default",$(it,[["render",function(e,t,r,a,s,o){const i=d("router-link"),l=d("ChevronRightIcon"),n=d("PerPage"),p=d("UserPlusIcon"),g=d("CircleSvg"),f=d("AppButton"),v=d("UsersTable"),C=d("UserFormModal"),R=c("tippy");return k(),m("div",lt,[u("nav",nt,[u("ol",dt,[u("li",ct,[e.authenticated&&e.roles&&(e.roles.admin||e.roles.superAdmin)?(k(),b(i,{key:0,to:{name:"admin"},class:"text-gray-500 hover:text-gray-900 dark:text-gray-300 dark:hover:text-gray-400"},{default:x((({isActive:e})=>[_(" Admin ")])),_:1})):h("",!0)]),u("li",mt,[w(l,{class:"ml-2 mr-2 mt-0 h-4 w-4"})]),u("li",ut,[e.authenticated&&e.roles&&(e.roles.admin||e.roles.superAdmin)?(k(),b(i,{key:0,to:{name:"users"},class:"text-gray-500 hover:text-gray-900 dark:text-gray-300 dark:hover:text-gray-400"},{default:x((({isActive:e})=>[u("span",{class:y([e&&"cursor-default text-gray-800 hover:text-gray-900 dark:text-gray-500 dark:hover:text-gray-500"])}," Users ",2)])),_:1})):h("",!0)])]),w(n,{items:s.users,"per-page":s.perPage,class:"float-right mb-2",style:{"margin-top":"-0.5em"},onChanged:o.perPageChanged},null,8,["items","per-page","onChanged"])]),U((k(),b(f,{disabled:s.showCreateUserForm||!s.dataReady,class:"float-right mb-2 px-2 py-2 text-sm font-medium",onClick:o.triggerCreateUser},{text:x((()=>[s.dataReady?(k(),b(p,{key:0,class:"ml-2 mr-2 mt-0 h-4 w-4"})):h("",!0),s.dataReady?h("",!0):(k(),b(g,{key:1,class:"ml-2 mr-2 mt-0 h-4 w-4"})),pt])),_:1},8,["disabled","onClick"])),[[R,"Create User"]]),w(v,{users:s.users,pagination:s.pagination,"per-page":s.perPage,"data-ready":s.dataReady,"available-roles":s.availableRoles,"lock-jiggled":s.lockJigled,onGetUsers:o.getUsers,onConfirmUnVerifyUser:o.confirmUnVerifyUser,onConfirmVerifyUser:o.confirmVerifyUser,onDeleteUser:o.deleteUser,onEditUser:o.editUser,onSendUserVerification:o.sendUserVerification,onImpersonateUserTriggered:o.impersonateUserTriggered},null,8,["users","pagination","per-page","data-ready","available-roles","lock-jiggled","onGetUsers","onConfirmUnVerifyUser","onConfirmVerifyUser","onDeleteUser","onEditUser","onSendUserVerification","onImpersonateUserTriggered"]),(k(),b(C,{key:s.userFormKey,"showing-form":s.showCreateUserForm,user:s.userEditing,"new-user":s.creatingNewUser,"available-roles":s.availableRoles,onCloseModal:o.closeUserForm,onUserCreated:o.userCreated,onUserUpdated:o.userUpdated},null,8,["showing-form","user","new-user","available-roles","onCloseModal","onUserCreated","onUserUpdated"]))])}],["__scopeId","data-v-8114f2d7"]]))}}}));
//# sourceMappingURL=Users-legacy-142ef86b.js.map
