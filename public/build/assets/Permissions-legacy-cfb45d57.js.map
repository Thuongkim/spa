{"version":3,"file":"Permissions-legacy-cfb45d57.js","sources":["../../../resources/js/components/roles/PermissionFormModal.vue","../../../resources/js/views/admin/Permissions.vue"],"sourcesContent":["<template>\n  <AppModal :show-modal=\"showingForm\" @close-modal=\"closeModal\">\n    <template #title>\n      {{\n        newPermission\n          ? 'Create Permission'\n          : 'Editing Permission ' + permissionName\n      }}\n    </template>\n    <template #body>\n      <Errors\n        v-if=\"errors && useInlineMessage\"\n        :content=\"errors\"\n        :errors=\"errors\"\n        container-class=\"w-100 mb-5\"\n        type=\"error\"\n        @close=\"errors = null\"\n      />\n\n      <form @submit.prevent>\n        <div class=\"relative mb-3 flex w-full flex-wrap items-stretch\">\n          <div class=\"flex-item relative mb-3 flex-auto\">\n            <label for=\"name\"> Name </label>\n            <input\n              id=\"name\"\n              v-model=\"form.name\"\n              type=\"text\"\n              placeholder=\"Name\"\n              name=\"name\"\n              class=\"relative w-full rounded border bg-white bg-white px-3 py-3 pr-10 text-sm shadow outline-none focus:outline-none\"\n              :class=\"\n                errors && errors.name\n                  ? 'border-red-500 text-red-600 placeholder-red-500 dark:placeholder-red-600'\n                  : 'border-transparent text-slate-600 placeholder-slate-300 dark:placeholder-slate-400'\n              \"\n            />\n            <span\n              class=\"absolute absolute right-0 z-10 h-full w-8 items-center justify-center rounded bg-transparent py-3 pr-3 text-center text-base font-normal leading-snug text-slate-300\"\n            >\n              <span\n                class=\"fas fa-lock\"\n                :class=\"\n                  errors && errors.name ? 'text-red-600' : 'text-slate-300'\n                \"\n              />\n            </span>\n          </div>\n        </div>\n\n        <div class=\"relative mb-3 flex w-full flex-wrap items-stretch\">\n          <div class=\"flex-item relative mb-3 flex-auto\">\n            <label for=\"slug\"> Slug </label>\n            <input\n              id=\"slug\"\n              v-model=\"form.slug\"\n              type=\"text\"\n              placeholder=\"Slug\"\n              name=\"slug\"\n              class=\"relative w-full rounded border bg-white bg-white px-3 py-3 pr-10 text-sm shadow outline-none focus:outline-none\"\n              :class=\"\n                errors && errors.slug\n                  ? 'border-red-500 text-red-600 placeholder-red-500 dark:text-red-600 dark:placeholder-red-600'\n                  : 'border-transparent text-slate-600 placeholder-slate-300 dark:placeholder-slate-400'\n              \"\n            />\n            <span\n              class=\"absolute absolute right-0 z-10 h-full w-8 items-center justify-center rounded bg-transparent py-3 pr-3 text-center text-base font-normal leading-snug\"\n            >\n              <span\n                class=\"fas fa-code\"\n                :class=\"\n                  errors && errors.slug ? 'text-red-600' : 'text-slate-300'\n                \"\n              />\n            </span>\n          </div>\n        </div>\n\n        <div class=\"relative mb-3 flex w-full flex-wrap items-stretch\">\n          <div class=\"flex-item relative mb-3 flex-auto\">\n            <label for=\"description\"> Description </label>\n            <textarea\n              id=\"description\"\n              v-model=\"form.description\"\n              type=\"text\"\n              placeholder=\"Description\"\n              name=\"description\"\n              class=\"relative w-full rounded border bg-white bg-white px-3 py-3 pr-10 text-sm shadow outline-none focus:outline-none\"\n              :class=\"\n                errors && errors.description\n                  ? 'border-red-500 text-red-600 placeholder-red-500 dark:text-red-600 dark:placeholder-red-600'\n                  : 'border-transparent text-slate-600 placeholder-slate-300 dark:placeholder-slate-400'\n              \"\n            />\n            <span\n              class=\"absolute absolute right-0 z-10 h-full w-8 items-center justify-center rounded bg-transparent py-3 pr-3 text-center text-base font-normal leading-snug\"\n            >\n              <span\n                class=\"fas fa-pencil\"\n                :class=\"\n                  errors && errors.description\n                    ? 'text-red-600'\n                    : 'text-slate-300'\n                \"\n              />\n            </span>\n          </div>\n        </div>\n\n        <div class=\"relative mb-3 flex w-full flex-wrap items-stretch\">\n          <div class=\"flex-item relative mb-3 max-w-2xl flex-auto\">\n            <h6>Permission Roles</h6>\n            <Multiselect\n              v-model=\"form.roles\"\n              :options=\"availableRoles\"\n              track-by=\"id\"\n              label=\"name\"\n              mode=\"tags\"\n              placeholder=\"Select permission roles\"\n            />\n          </div>\n        </div>\n        <div\n          v-if=\"\n            permission &&\n            permission.users &&\n            permission.users.length &&\n            permission.users.length > 0\n          \"\n          class=\"relative mb-3 mt-5 flex w-full flex-wrap items-stretch\"\n        >\n          <div class=\"flex-item relative flex-auto text-xs\">\n            <strong class=\"text-red-400\"\n              ><span class=\"fas fa-warning fa-fw mr-1\" />Warning</strong\n            >: This will affect\n            <span class=\"font-bold\">{{ permission.users.length }}</span> User{{\n              permission.users.length > 1 ? 's' : ''\n            }}\n          </div>\n        </div>\n\n        <div class=\"relative mb-3 mt-5 flex w-full flex-wrap items-stretch\">\n          <div class=\"flex-item relative flex-auto text-xs uppercase\">\n            <div v-if=\"form.created_at\" class=\"float-left\">\n              Created at:\n              <div class=\"text-xs font-bold\">\n                {{ parseDisplayDate(form.created_at) }}\n              </div>\n            </div>\n          </div>\n          <div class=\"flex-item relative flex-auto text-xs uppercase\">\n            <div v-if=\"form.updated_at\" class=\"float-right\">\n              Updated at:\n              <div class=\"text-xs font-bold\">\n                {{ parseDisplayDate(form.updated_at) }}\n              </div>\n            </div>\n          </div>\n        </div>\n      </form>\n    </template>\n    <template #footer>\n      <div style=\"width: 100%\">\n        <AppButton\n          v-if=\"changed\"\n          :disabled=\"loading || submitting || !changed\"\n          class=\"float-left border border-green-800 bg-transparent bg-transparent text-sm font-medium text-green-800 text-white shadow-md transition duration-150 ease-in-out hover:border-green-900 hover:bg-green-900 hover:text-white hover:shadow-lg focus:shadow-lg active:shadow-lg dark:hover:border-green-800 dark:hover:bg-green-800\"\n          @click=\"submit\"\n        >\n          <template #text>\n            {{\n              newPermission\n                ? submitting\n                  ? 'Creating'\n                  : 'Create'\n                : submitting\n                ? 'Updating'\n                : 'Update'\n            }}\n            <span v-if=\"submitting\" class=\"fa fa-circle-notch fa-spin ml-3\" />\n          </template>\n        </AppButton>\n        <AppButton\n          :disabled=\"loading || submitting\"\n          class=\"float-right border border-gray-700 bg-transparent bg-transparent text-sm font-medium text-gray-700 text-white shadow-md transition duration-150 ease-in-out hover:border-gray-700 hover:bg-gray-700 hover:text-white hover:shadow-lg focus:shadow-lg active:shadow-lg dark:hover:bg-gray-700\"\n          @click=\"closeModal\"\n        >\n          <template #text>\n            {{ changed ? 'Cancel' : 'Close' }}\n          </template>\n        </AppButton>\n      </div>\n    </template>\n  </AppModal>\n</template>\n\n<script lang=\"ts\">\nimport AppModal from '@components/common/AppModal.vue';\nimport axios from 'axios';\nimport { mapActions } from 'vuex';\nimport { UserCircleIcon } from '@heroicons/vue/24/outline';\nimport clonedeep from 'lodash.clonedeep';\nimport moment from 'moment';\nimport Multiselect from '@vueform/multiselect';\nimport Errors from '@components/Errors.vue';\n\nexport default {\n  name: 'PermissionFormModal',\n  components: {\n    AppModal,\n    UserCircleIcon,\n    Multiselect,\n    Errors,\n  },\n  props: {\n    showingForm: { type: Boolean, default: false },\n    newPermission: { type: Boolean, default: true },\n    loading: { type: Boolean, default: false },\n    permission: { type: Object, default: null },\n    useInlineMessage: { type: Boolean, default: false },\n    availableRoles: { type: Array, default: null },\n  },\n  setup() {\n    return {};\n  },\n  data() {\n    return {\n      permissionName: '',\n      form: {\n        name: null,\n        slug: null,\n        description: null,\n        roles: [],\n        model: 'Permission',\n      },\n      submitting: false,\n      errors: null,\n      changed: false,\n      ready: false,\n    };\n  },\n  computed: {},\n  watch: {\n    form: {\n      handler(newValue, oldValue) {\n        if (this.ready) {\n          this.changed = true;\n        }\n      },\n      deep: true,\n      immediate: false,\n    },\n  },\n  created() {},\n  mounted() {\n    const self = this;\n    if (self.permission) {\n      self.form = clonedeep(self.permission);\n      if (self.permission.name) {\n        self.permissionName = self.permission.name;\n      }\n      self.form.roles = self.form.roles.map((el) => el.id);\n      setTimeout(() => {\n        self.ready = true;\n      }, 100);\n    } else {\n      self.ready = true;\n    }\n  },\n  beforeUnmount() {},\n  updated() {},\n  methods: {\n    ...mapActions({\n      popToast: 'toast/popToast',\n    }),\n    parseDisplayDate(date) {\n      if (date && date != true) {\n        return moment(date).format('MMM Do YYYY, h:mma');\n      }\n      return moment(new Date()).format('MMM Do YYYY, h:mma');\n    },\n    async submit() {\n      this.error = null;\n      this.submitting = true;\n      if (this.newPermission) {\n        await this.createPermission();\n      } else {\n        await this.updatePermission();\n      }\n      this.submitting = false;\n    },\n    formValid() {\n      this.errors = null;\n      if (!this.form) {\n        return false;\n      }\n      if (!this.form.name) {\n        this.errors = {};\n        this.errors.name = 'Missing Permission Name';\n      }\n      if (!this.form.slug) {\n        if (!this.errors) {\n          this.errors = {};\n        }\n        this.errors.slug = 'Missing Permission Slug';\n      }\n      if (!this.errors) {\n        return true;\n      }\n      return false;\n    },\n    async createPermission() {\n      const self = this;\n      if (!this.formValid()) {\n        this.submitting = false;\n        this.popToast({\n          message: 'Error Validating Permission',\n          timer: 5000,\n          icon: 'error',\n        });\n        return;\n      }\n      await axios\n        .post('/api/permissions/create-permission', this.form)\n        .then(({ data }) => {\n          this.$emit('permissionCreated', data.permission);\n          this.popToast({\n            message: 'Permission Successfully Created!',\n            timer: 5000,\n            icon: 'success',\n          });\n          this.submitting = false;\n        })\n        .catch(({ response }) => {\n          if (response.status === 422) {\n            const { errors } = response.data;\n            this.errors = errors;\n            // this.popToast({\n            //   message: Object.values(errors).flat().toString(),\n            //   timer: 5000,\n            //   icon: 'error',\n            // });\n          } else {\n            this.popToast({\n              message: 'Error Creating Permission',\n              timer: 5000,\n              icon: 'error',\n            });\n          }\n          this.submitting = false;\n        });\n      this.submitting = false;\n    },\n    async updatePermission() {\n      const self = this;\n      if (!this.formValid()) {\n        this.submitting = false;\n        this.popToast({\n          message: 'Error Validating Permission',\n          timer: 5000,\n          icon: 'error',\n        });\n        return;\n      }\n      await axios\n        .patch(\n          `/api/permissions/update-permission/${self.permission.id}`,\n          self.form,\n        )\n        .then(({ data }) => {\n          self.$emit('permissionUpdated', data.permission);\n          self.popToast({\n            message: `Permission ${data.permission.name} Successfully Updated!`,\n            timer: 5000,\n            icon: 'success',\n          });\n          self.submitting = false;\n        })\n        .catch(({ response }) => {\n          if (response.status === 422) {\n            const { errors } = response.data;\n            self.errors = errors;\n            // self.popToast({\n            //   message: Object.values(errors).flat().toString(),\n            //   timer: 5000,\n            //   icon: 'error',\n            // });\n          } else {\n            self.popToast({\n              message: 'Error Updating Permission',\n              timer: 5000,\n              icon: 'error',\n            });\n          }\n          self.submitting = false;\n        });\n      self.submitting = false;\n    },\n    closeModal() {\n      this.$emit('closeModal');\n    },\n  },\n};\n</script>\n\n<style src=\"@vueform/multiselect/themes/default.css\"></style>\n<style scoped>\n:deep() .multiselect-option {\n  background: transparent;\n  color: #777;\n}\n:deep() .multiselect-option.is-pointed {\n  background: #10b981;\n  color: #ffffff;\n}\n</style>\n","<template>\n  <div\n    id=\"permissions\"\n    class=\"bg-white p-3 dark:bg-slate-800 dark:text-gray-200\"\n  >\n    <nav class=\"mb-6 text-sm font-semibold\" aria-label=\"Breadcrumb\">\n      <ol class=\"inline-flex list-none p-0\">\n        <li class=\"flex items-center\">\n          <router-link\n            v-if=\"authenticated && roles && (roles.admin || roles.superAdmin)\"\n            v-slot=\"{ isActive }\"\n            :to=\"{ name: 'admin' }\"\n            class=\"text-gray-500 hover:text-gray-900 dark:text-gray-300 dark:hover:text-gray-400\"\n          >\n            Admin\n          </router-link>\n        </li>\n        <li class=\"flex items-center\">\n          <ChevronRightIcon class=\"ml-2 mr-2 mt-0 h-4 w-4\" />\n        </li>\n        <li class=\"flex items-center\">\n          <router-link\n            v-if=\"authenticated && roles && (roles.admin || roles.superAdmin)\"\n            v-slot=\"{ isActive }\"\n            :to=\"{ name: 'permissions' }\"\n            class=\"text-gray-500 hover:text-gray-900 dark:text-gray-300 dark:hover:text-gray-400\"\n          >\n            <span\n              :class=\"[\n                isActive &&\n                  'cursor-default text-gray-800 hover:text-gray-900 dark:text-gray-500 dark:hover:text-gray-500',\n              ]\"\n            >\n              Permissions\n            </span>\n          </router-link>\n        </li>\n      </ol>\n      <PerPage\n        v-if=\"dataReady\"\n        :items=\"permissionsData\"\n        :per-page=\"perPage\"\n        class=\"float-right mb-2\"\n        style=\"margin-top: -0.5em\"\n        @changed=\"perPageChanged\"\n      />\n    </nav>\n\n    <div class=\"flex justify-end\">\n      <AppButton\n        v-tippy=\"'Create Permission'\"\n        :disabled=\"showCreatePermissionForm || !dataReady\"\n        class=\"mb-2 px-2 py-2 text-sm font-medium\"\n        @click=\"triggerCreatePermission\"\n      >\n        <template #text>\n          <span v-if=\"dataReady\" class=\"fas fa-plus fa-fw ml-2 mr-2\" />\n          <CircleSvg v-if=\"!dataReady\" class=\"ml-2 mr-2 mt-0 h-4 w-4\" />\n          <span class=\"sr-only\">Create New Permission</span>\n        </template>\n      </AppButton>\n\n      <AppButton\n        v-if=\"showDownload\"\n        v-tippy=\"'Download Data'\"\n        class=\"mb-2 ml-3 px-2 py-2 text-sm font-medium\"\n        @click=\"\n          $refs.permissionsTable.downloadCsv((filename = 'permissions.csv'))\n        \"\n      >\n        <template #text> Download </template>\n      </AppButton>\n    </div>\n\n    <v-client-table\n      v-if=\"dataReady\"\n      ref=\"permissionsTable\"\n      :key=\"permissionsTableKey\"\n      :data=\"permissionsData\"\n      :columns=\"tableColumns\"\n      :options=\"tableOptions\"\n    >\n      <template #name=\"props\">\n        <input\n          v-model=\"props.row.name\"\n          v-tippy=\"'Edit Permission Name'\"\n          type=\"text\"\n          class=\"rounded border-0 bg-transparent text-sm\"\n          :class=\"locked(props.row) ? 'disabled' : ''\"\n          :readonly=\"locked(props.row)\"\n          @blur=\"update('name', props.row)\"\n        />\n      </template>\n      <template #slug=\"props\">\n        <input\n          v-model=\"props.row.slug\"\n          v-tippy=\"'Edit Permission Slug'\"\n          type=\"text\"\n          class=\"rounded border-0 bg-transparent text-sm\"\n          :class=\"locked(props.row) ? 'disabled' : ''\"\n          :readonly=\"locked(props.row)\"\n          @blur=\"update('slug', props.row)\"\n        />\n      </template>\n      <template #description=\"props\">\n        <input\n          v-model=\"props.row.description\"\n          v-tippy=\"'Edit Permission Description'\"\n          type=\"text\"\n          class=\"rounded border-0 bg-transparent text-sm\"\n          :class=\"locked(props.row) ? 'disabled' : ''\"\n          :readonly=\"locked(props.row)\"\n          @blur=\"update('description', props.row)\"\n        />\n      </template>\n      <template #roles=\"props\">\n        {{ props.row.roles.length }}\n      </template>\n      <template #users=\"props\">\n        {{ props.row.users.length }}\n      </template>\n      <template #created_at=\"props\">\n        {{\n          props.row.created_at ? parseDisplayDate(props.row.created_at) : null\n        }}\n      </template>\n      <template #updated_at=\"props\">\n        {{\n          props.row.updated_at ? parseDisplayDate(props.row.updated_at) : null\n        }}\n      </template>\n      <template #actions=\"props\">\n        <AppButton\n          :loading=\"!dataReady\"\n          class=\"mr-2 inline-block rounded px-1 py-1 text-sm font-medium leading-snug leading-snug text-gray-700 shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg dark:text-white\"\n          :btn-class=\"\n            locked(props.row)\n              ? 'bg-transparent focus:bg-transparent active:bg-transparent dark:focus:bg-transparent dark:active:bg-transparent dark:hover:bg-transparent'\n              : 'bg-transparent focus:bg-transparent active:bg-transparent dark:focus:bg-transparent dark:active:bg-transparent dark:hover:bg-transparent'\n          \"\n          :btn-hover-class=\"\n            locked(props.row)\n              ? 'hover:bg-transparent focus:bg-transparent active:bg-transparent dark:focus:bg-transparent dark:active:bg-transparent dark:hover:bg-transparent'\n              : 'hover:bg-transparent focus:bg-transparent active:bg-transparent dark:focus:bg-transparent dark:active:bg-transparent dark:hover:bg-transparent'\n          \"\n          :btn-class-dark=\"\n            locked(props.row)\n              ? 'bg-transparent focus:bg-transparent active:bg-transparent dark:focus:bg-transparent dark:active:bg-transparent dark:hover:bg-transparent'\n              : 'bg-transparent focus:bg-transparent active:bg-transparent dark:focus:bg-transparent dark:active:bg-transparent dark:hover:bg-transparent'\n          \"\n          :btn-hover-class-dark=\"\n            locked(props.row)\n              ? 'hover:bg-transparent focus:bg-transparent active:bg-transparent dark:focus:bg-transparent dark:active:bg-transparent dark:hover:bg-transparent'\n              : 'hover:bg-transparent focus:bg-transparent active:bg-transparent dark:focus:bg-transparent dark:active:bg-transparent dark:hover:bg-transparent'\n          \"\n          @click=\"toggleLock(props.row, false)\"\n        >\n          <template #text>\n            <LockClosedIcon\n              v-if=\"locked(props.row) && dataReady\"\n              class=\"ml-2 mr-2 mt-0 h-4 w-4\"\n            />\n            <LockOpenIcon\n              v-if=\"!locked(props.row) && dataReady\"\n              class=\"ml-2 mr-2 mt-0 h-4 w-4\"\n            />\n            <CircleSvg v-if=\"!dataReady\" class=\"mr-2 h-3 w-3\" />\n            <span class=\"sr-only\"\n              >{{ locked(props.row) ? 'Unlock' : 'Lock' }} User Settings</span\n            >\n          </template>\n        </AppButton>\n\n        <AppButton\n          v-tippy=\"'Edit Permission'\"\n          warning\n          :disabled=\"locked(props.row)\"\n          :loading=\"!dataReady\"\n          class=\"mr-2 px-1 py-1 text-sm\"\n          @click=\"triggerEditPermission(props.row)\"\n        >\n          <template #text>\n            <PencilSquareIcon v-if=\"dataReady\" class=\"ml-2 mr-2 mt-0 h-4 w-4\" />\n            <CircleSvg v-if=\"!dataReady\" class=\"mr-2 h-3 w-3\" />\n            <span class=\"sr-only\">Edit Permission</span>\n          </template>\n        </AppButton>\n\n        <AppButton\n          v-tippy=\"'Delete Permission'\"\n          danger\n          :disabled=\"locked(props.row)\"\n          :loading=\"!dataReady\"\n          class=\"mr-2 px-1 py-1 text-sm\"\n          @click=\"triggerDeletePermission(props.row)\"\n        >\n          <template #text>\n            <TrashIcon v-if=\"dataReady\" class=\"ml-2 mr-2 mt-0 h-4 w-4\" />\n            <CircleSvg v-if=\"!dataReady\" class=\"mr-2 h-3 w-3\" />\n            <span class=\"sr-only\">Delete Permission</span>\n          </template>\n        </AppButton>\n      </template>\n      <template #afterBody>\n        <tfoot>\n          <tr>\n            <td colspan=\"10\">\n              <Pagination\n                :pagination=\"pagination\"\n                :offset=\"4\"\n                @paginate=\"getPermissions\"\n              />\n            </td>\n          </tr>\n        </tfoot>\n      </template>\n    </v-client-table>\n    <!-- <AnimatedTableLoader v-if=\"!dataReady\" /> -->\n\n    <PermissionFormModal\n      :key=\"permissionFormKey\"\n      :showing-form=\"showCreatePermissionForm\"\n      :permission=\"permissionEditing\"\n      :new-permission=\"creatingNewPermission\"\n      :available-roles=\"availableRoles\"\n      @close-modal=\"closePermissionForm\"\n      @permission-created=\"permissionCreated\"\n      @permission-updated=\"permissionUpdated\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport moment from 'moment';\nimport {\n  ChevronRightIcon,\n  LockClosedIcon,\n  LockOpenIcon,\n  PencilSquareIcon,\n  TrashIcon,\n} from '@heroicons/vue/24/outline';\nimport { mapGetters, mapActions } from 'vuex';\nimport axios from 'axios';\nimport PermissionFormModal from '@components/roles/PermissionFormModal.vue';\nimport CircleSvg from '@components/CircleSvg.vue';\nimport Pagination from '@components/Pagination.vue';\nimport PerPage from '@components/PerPage.vue';\n// import AnimatedTableLoader from '@components/loaders/AnimatedTableLoader.vue';\n\nexport default {\n  name: 'Permissions',\n  components: {\n    ChevronRightIcon,\n    PermissionFormModal,\n    CircleSvg,\n    LockClosedIcon,\n    LockOpenIcon,\n    PencilSquareIcon,\n    TrashIcon,\n    PerPage,\n    Pagination,\n    // AnimatedTableLoader,\n  },\n  props: {\n    showDownload: { type: Boolean, default: false },\n  },\n  setup() {\n    return {};\n  },\n  data() {\n    return {\n      dataReady: false,\n      permissionsData: null,\n      pagination: {},\n      perPage: 25,\n      showCreatePermissionForm: false,\n      permissionEditing: null,\n      creatingNewPermission: false,\n      permissionFormKey: 432489,\n      tableColumns: [\n        'id',\n        'name',\n        'slug',\n        'description',\n        // 'model',\n        'roles',\n        'users',\n        'created_at',\n        'updated_at',\n        'actions',\n      ],\n      tableOptions: {\n        name: 'permissionsTable',\n        perPage: 25,\n        uniqueKey: 'id',\n        highlightMatches: true,\n        columnsDropdown: false,\n        skin: null,\n        saveState: true,\n        storage: 'local',\n        headings: {\n          actions: '',\n        },\n        columnsClasses: {\n          id: 'text-sm text-nowrap',\n          name: 'text-sm text-nowrap',\n          slug: 'text-sm text-nowrap',\n          description: 'text-sm text-nowrap',\n          model: 'text-sm text-nowrap',\n          roles: 'text-sm text-nowrap',\n          users: 'text-sm text-nowrap',\n          created_at: 'text-sm text-nowrap',\n          updated_at: 'text-sm text-nowrap',\n          actions: 'text-nowrap',\n        },\n        texts: {},\n        orderBy: {\n          column: 'id',\n          ascending: false,\n        },\n        pagination: {\n          virtual: true,\n        },\n        sortIcon: {\n          base: 'ml-1 fa-fw fas',\n          up: 'fa-sort-up',\n          down: 'fa-sort-down',\n          is: 'fa-sort',\n        },\n        filterable: [\n          'id',\n          'name',\n          'slug',\n          'description',\n          'model',\n          'created_at',\n          'updated_at',\n          'roles',\n          'users',\n        ],\n        sortable: [\n          'id',\n          'name',\n          'slug',\n          'description',\n          'model',\n          'created_at',\n          'updated_at',\n          'roles',\n          'users',\n        ],\n        dateColumns: ['created_at', 'updated_at'],\n        filterByColumn: false,\n        editableColumns: ['name'],\n      },\n      rowsUnlocked: [],\n      availableRoles: [],\n      rolesDataReady: false,\n      permissionsTableKey: 432876,\n    };\n  },\n  computed: {\n    ...mapGetters({\n      authenticated: 'auth/authenticated',\n      user: 'auth/user',\n      roles: 'auth/roles',\n    }),\n  },\n  watch: {},\n  created() {},\n  mounted() {\n    this.getPermissions();\n    this.getRoles();\n  },\n  beforeUnmount() {},\n  updated() {},\n  methods: {\n    ...mapActions({\n      popToast: 'toast/popToast',\n    }),\n    perPageChanged(value) {\n      this.perPage = parseInt(value);\n      this.pagination.current_page = 1;\n      this.getPermissions();\n    },\n    async getRoles() {\n      this.rolesDataReady = false;\n      await axios\n        .get('/api/roles')\n        .then(({ data }) => {\n          this.availableRoles = data.roles;\n          this.rolesDataReady = true;\n        })\n        .catch(({ response }) => {\n          this.popToast({\n            message: 'Error Getting Roles',\n            timer: 5000,\n            icon: 'error',\n          });\n          this.rolesDataReady = true;\n        });\n    },\n    async getPermissions(updatedPage = null) {\n      if (updatedPage) {\n        this.pagination.current_page = updatedPage;\n      }\n      await axios\n        .get(\n          `/api/permissions-paginated?page=${this.pagination.current_page}&per=${this.perPage}`,\n        )\n        .then(({ data }) => {\n          this.permissionsData = data.data;\n          delete data.data;\n          this.pagination = data;\n          this.dataReady = true;\n          this.permissionsTableKey += 1;\n        })\n        .catch(({ response }) => {\n          this.popToast({\n            message: 'Error Getting Permissions',\n            timer: 5000,\n            icon: 'error',\n          });\n          this.dataReady = true;\n        });\n      this.dataReady = true;\n    },\n    triggerDeletePermission(row) {\n      const self = this;\n      const title = '<strong>Delete Permission?</strong>';\n      const html = 'Are you sure you want to <strong>Delete';\n      `${row.name}</strong>?<h6>This will delete the Permission.</h6>`;\n      const icon = 'warning';\n      const confirmButtonColor = '#FF0000';\n      const denyButtonColor = '#777777';\n      const confirmButtonText = 'Delete';\n      const denyButtonText = 'Cancel';\n      self.$swal\n        .fire({\n          title,\n          icon,\n          html,\n          showCancelButton: false,\n          showDenyButton: true,\n          confirmButtonColor,\n          denyButtonColor,\n          confirmButtonText,\n          denyButtonText,\n        })\n        .then((result) => {\n          if (result.isConfirmed) {\n            this.deletePermission(row);\n          } else if (result.isDenied) {\n            self.popToast({\n              message: 'Cancelled',\n              timer: 2000,\n              icon: 'error',\n            });\n          }\n        });\n    },\n    async deletePermission(value) {\n      await axios\n        .delete(`/api/permissions/delete/permission/${value.id}`)\n        .then(({ data }) => {\n          this.permissionsData = this.permissionsData.filter(\n            (u) => u.id != data.id,\n          );\n          this.rowsUnlocked = this.rowsUnlocked.filter((i) => i != value.id);\n          this.pagination.total = this.pagination.total - 1;\n          this.getPermissions(\n            this.pagination.current_page ? this.pagination.current_page : null,\n          );\n          this.rowsUnlocked = [];\n          this.popToast({\n            message: 'Successfully Deleted Permission!',\n            timer: 5000,\n            icon: 'success',\n          });\n        })\n        .catch(({ response }) => {\n          this.popToast({\n            message: 'Error Deleting Permission',\n            timer: 5000,\n            icon: 'error',\n          });\n          this.dataReady = true;\n        });\n    },\n    closePermissionForm() {\n      this.permissionEditing = null;\n      this.creatingNewPermission = false;\n      this.showCreatePermissionForm = false;\n    },\n    triggerEditPermission(permission) {\n      this.permissionFormKey += 1;\n      this.permissionEditing = permission;\n      this.creatingNewPermission = false;\n      this.showCreatePermissionForm = true;\n    },\n    permissionUpdated(data) {\n      this.permissionsData = this.permissionsData.map((u) =>\n        u.id !== data.id ? u : data,\n      );\n      this.rowsUnlocked = [];\n      this.getPermissions(); // Realign just in case.\n      this.closePermissionForm();\n    },\n    permissionCreated(data) {\n      this.permissionsData.push(data);\n      this.rowsUnlocked = [];\n      this.getPermissions(); // Realign just in case.\n      this.closePermissionForm();\n    },\n    triggerCreatePermission() {\n      this.permissionFormKey += 1;\n      this.creatingNewPermission = true;\n      this.showCreatePermissionForm = true;\n      this.permissionEditing = null;\n    },\n    parseDisplayDate(date) {\n      return moment(date).format('MMM Do YYYY, h:mma');\n    },\n    inputValid(key, row) {\n      if (row[key] == '' || row[key] == null || row[key].length == 0) {\n        return false;\n      }\n      if (row[key].length > 0) {\n        return true;\n      }\n      return false;\n    },\n    async update(key, row) {\n      const self = this;\n      if (!this.inputValid(key, row)) {\n        this.submitting = false;\n        this.popToast({\n          message: 'Error Validating Permission',\n          timer: 5000,\n          icon: 'error',\n        });\n        return;\n      }\n      await axios\n        .patch(`/api/permissions/update-permission/${row.id}`, row)\n        .then(({ data }) => {\n          self.permissionUpdated(data.permission);\n          self.popToast({\n            message: `Permission ${data.permission.name} Successfully Updated!`,\n            timer: 5000,\n            icon: 'success',\n          });\n          self.submitting = false;\n        })\n        .catch(({ response }) => {\n          if (response.status === 422) {\n            const { errors } = response.data;\n            self.errors = errors;\n            // self.popToast({\n            //   message: Object.values(errors).flat().toString(),\n            //   timer: 5000,\n            //   icon: 'error',\n            // });\n          } else {\n            self.popToast({\n              message: 'Error Updating Permission',\n              timer: 5000,\n              icon: 'error',\n            });\n          }\n          self.submitting = false;\n        });\n      self.submitting = false;\n    },\n    toggleLock(row, reset = false) {\n      const found = this.rowsUnlocked.find((i) => i == row.id);\n      if (reset) {\n        this.rowsUnlocked = [];\n        this.rowsUnlocked.push(row.id);\n      } else if (found) {\n        this.rowsUnlocked = this.rowsUnlocked.filter((i) => i != row.id);\n      } else {\n        this.rowsUnlocked.push(row.id);\n      }\n    },\n    locked(row) {\n      const found = this.rowsUnlocked.find((obj) => obj == row.id);\n      if (found) {\n        return false;\n      }\n      return true;\n    },\n  },\n};\n</script>\n\n<style scoped></style>\n<style lang=\"scss\" scoped></style>\n"],"names":["_sfc_main$1","name","components","AppModal","UserCircleIcon","Multiselect","Errors","props","showingForm","type","Boolean","default","newPermission","loading","permission","Object","useInlineMessage","availableRoles","Array","setup","data","permissionName","form","slug","description","roles","model","submitting","errors","changed","ready","computed","watch","handler","newValue","oldValue","this","deep","immediate","created","mounted","self","clonedeep","map","el","id","setTimeout","beforeUnmount","updated","methods","mapActions","popToast","parseDisplayDate","date","moment","format","Date","submit","error","createPermission","updatePermission","formValid","message","timer","icon","axios","post","then","$emit","catch","response","status","patch","closeModal","_withScopeId","n","_pushScopeId","_popScopeId","_hoisted_1","class","_createElementVNode","for","_hoisted_4","_hoisted_5","_hoisted_9","_hoisted_12","_hoisted_13","_hoisted_16","key","_hoisted_22","_hoisted_25","_hoisted_28","_sfc_main","ChevronRightIcon","PermissionFormModal","_resolveComponent","_openBlock","_createBlock","_component_AppModal","$props","onCloseModal","$options","_createTextVNode","_toDisplayString","$data","body","_withCtx","_component_Errors","content","_createCommentVNode","onSubmit","_cache","_withModifiers","_hoisted_2","_hoisted_3","$event","placeholder","_normalizeClass","_vModelText","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_10","_hoisted_11","_hoisted_14","_hoisted_15","modelValue","options","label","mode","users","length","_createElementBlock","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","created_at","_hoisted_24","updated_at","_hoisted_27","_component_AppButton","disabled","onClick","_createVNode","CircleSvg","LockClosedIcon","LockOpenIcon","PencilSquareIcon","TrashIcon","PerPage","Pagination","showDownload","dataReady","permissionsData","pagination","perPage","showCreatePermissionForm","permissionEditing","creatingNewPermission","permissionFormKey","tableColumns","tableOptions","uniqueKey","highlightMatches","columnsDropdown","skin","saveState","storage","headings","actions","columnsClasses","texts","orderBy","column","ascending","virtual","sortIcon","base","up","down","is","filterable","sortable","dateColumns","filterByColumn","editableColumns","rowsUnlocked","rolesDataReady","permissionsTableKey","mapGetters","authenticated","user","getPermissions","getRoles","perPageChanged","value","parseInt","current_page","get","updatedPage","triggerDeletePermission","row","$swal","fire","title","html","showCancelButton","showDenyButton","confirmButtonColor","denyButtonColor","confirmButtonText","denyButtonText","result","isConfirmed","deletePermission","isDenied","delete","filter","u","i","total","closePermissionForm","triggerEditPermission","permissionUpdated","permissionCreated","push","triggerCreatePermission","inputValid","update","toggleLock","reset","found","find","locked","obj","_directive_tippy","_resolveDirective","_ctx","admin","superAdmin","_component_router_link","to","_component_ChevronRightIcon","isActive","_component_PerPage","items","style","_withDirectives","text","_component_CircleSvg","$refs","permissionsTable","downloadCsv","filename","_component_v_client_table","ref","columns","readonly","onBlur","_component_LockClosedIcon","_component_LockOpenIcon","warning","_component_PencilSquareIcon","danger","_component_TrashIcon","_component_Pagination","offset","_component_PermissionFormModal","onPermissionCreated"],"mappings":"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"}