{"version":3,"file":"ResetPassword-df3fadcb.js","sources":["../../../resources/js/views/pages/ResetPassword.vue"],"sourcesContent":["<template>\n  <div class=\"mx-auto max-w-screen-md text-gray-900\">\n    <div class=\"flex justify-center\">\n      <div class=\"flex-1\">\n        <div class=\"w-auto border\">\n          <div class=\"border-b p-4 font-semibold text-gray-700\">\n            Reset your password\n          </div>\n          <div class=\"bg-white p-4\">\n            <Success\n              v-if=\"useSuccess && success\"\n              :content=\"success\"\n              @close=\"success = null\"\n            />\n            <Errors\n              v-if=\"useErrors && errors\"\n              :content=\"errors\"\n              @close=\"errors = null\"\n            />\n            <form\n              class=\"mx-auto w-full md:w-10/12 md:p-4\"\n              @submit.prevent=\"reset\"\n            >\n              <div\n                class=\"my-1 w-full py-2 sm:flex sm:items-center sm:justify-between\"\n              >\n                <label\n                  for=\"password\"\n                  class=\"w-4/12\"\n                  :class=\"{\n                    'text-red-500':\n                      errors && errors.errors && errors.errors.password,\n                  }\"\n                >\n                  Password\n                </label>\n                <input\n                  id=\"password\"\n                  v-model=\"form.password\"\n                  type=\"password\"\n                  name=\"password\"\n                  autocomplete=\"on\"\n                  :class=\"{\n                    'border-red-500':\n                      errors && errors.errors && errors.errors.password,\n                  }\"\n                  :disabled=\"loading\"\n                  class=\"mt-3 w-full rounded border border-gray-300 bg-white p-2 focus:outline-none sm:mt-0 sm:w-8/12\"\n                />\n              </div>\n              <div\n                class=\"my-1 w-full py-2 sm:flex sm:items-center sm:justify-between\"\n              >\n                <label\n                  for=\"password_confirmation\"\n                  class=\"w-4/12\"\n                  :class=\"{\n                    'text-red-500':\n                      errors &&\n                      errors.errors &&\n                      errors.errors.password_confirmation,\n                  }\"\n                >\n                  Confirm Password\n                </label>\n                <input\n                  id=\"password_confirmation\"\n                  v-model=\"form.password_confirmation\"\n                  type=\"password\"\n                  name=\"password_confirmation\"\n                  :class=\"{\n                    'border-red-500':\n                      errors &&\n                      errors.errors &&\n                      errors.errors.password_confirmation,\n                  }\"\n                  :disabled=\"loading\"\n                  class=\"mt-3 w-full rounded border border-gray-300 bg-white p-2 focus:outline-none sm:mt-0 sm:w-8/12\"\n                />\n              </div>\n              <div\n                class=\"my-1 w-full py-2 sm:flex sm:items-center sm:justify-end\"\n              >\n                <div\n                  class=\"mt-3 flex w-full items-center justify-between sm:mt-0 sm:w-8/12\"\n                >\n                  <AppButton\n                    :loading=\"loading\"\n                    :disabled=\"loading || success\"\n                    :text=\"loading ? 'Send Email' : 'Send Email'\"\n                    btn-class=\"uppercase leading-snug inline-block rounded bg-blue-600 px-7 py-3 text-sm font-medium uppercase leading-snug text-white shadow-md transition duration-150 ease-in-out hover:bg-indigo-700 hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg \"\n                    type=\"submit\"\n                  >\n                    <template #text>\n                      <CheckCircleIcon\n                        v-if=\"!loading && success\"\n                        class=\"mr-2 h-6 w-6\"\n                      />\n                      <CircleSvg v-if=\"loading\" class=\"mr-2 h-5 w-5\" />\n                      Reset Password\n                    </template>\n                  </AppButton>\n                </div>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport Errors from '@components/Errors.vue';\nimport Success from '@components/Success.vue';\nimport CircleSvg from '@components/CircleSvg.vue';\nimport { CheckCircleIcon } from '@heroicons/vue/24/outline';\nimport { mapActions } from 'vuex';\n\nexport default {\n  components: {\n    Errors,\n    Success,\n    CircleSvg,\n    CheckCircleIcon,\n  },\n  props: {\n    useErrors: { type: Boolean, default: false },\n    useSuccess: { type: Boolean, default: false },\n    token: { type: String, required: true },\n    email: { type: String, required: true },\n  },\n  data() {\n    return {\n      form: {\n        password: '',\n        password_confirmation: '',\n      },\n      errors: null,\n      success: null,\n      loading: false,\n    };\n  },\n  created() {},\n  methods: {\n    ...mapActions({\n      resetPassword: 'auth/resetPassword',\n      popToast: 'toast/popToast',\n    }),\n    async reset() {\n      this.loading = true;\n      this.errors = null;\n      this.success = null;\n      try {\n        await this.resetPassword({\n          email: this.email,\n          token: this.token,\n          ...this.form,\n        }).then((response) => {\n          this.loading = false;\n          this.success = response;\n          this.popToast({\n            message: `${response} redirecting ...`,\n            timer: 10000,\n            icon: 'success',\n          });\n          setTimeout(() => {\n            this.$router.push({ name: 'login' });\n          }, 1000);\n        });\n      } catch (e) {\n        if (e.response && e.response.status === 422) {\n          this.errors = e.response.data.errors;\n          this.popToast({\n            message: Object.values(e.response.data.errors).flat().toString(),\n            timer: 10000,\n            icon: 'error',\n          });\n        } else if (e.response && e.response.status === 401) {\n          this.errors = { message: e.response.data.message };\n          this.popToast({\n            message: 'Unauthorized',\n            timer: 10000,\n            icon: 'error',\n          });\n        } else {\n          this.popToast({\n            message: 'An error occured',\n            timer: 10000,\n            icon: 'error',\n          });\n        }\n        this.loading = false;\n      }\n    },\n  },\n};\n</script>\n"],"names":["_createElementVNode","_openBlock","_createElementBlock","_createBlock","_normalizeClass","_vModelText","_createVNode"],"mappings":"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"}