{"version":3,"file":"ForgotPassword-5b4487a7.js","sources":["../../../resources/js/views/pages/ForgotPassword.vue"],"sourcesContent":["<template>\n  <div class=\"mx-auto max-w-screen-md text-gray-900\">\n    <div class=\"flex justify-center\">\n      <div class=\"flex-1\">\n        <div class=\"w-auto border\">\n          <div class=\"border-b p-4 font-semibold text-gray-700\">\n            Forgot your Password?\n          </div>\n          <div class=\"bg-white p-4\">\n            <Success\n              v-if=\"useSuccess && success\"\n              :content=\"success\"\n              @close=\"success = null\"\n            />\n            <Errors\n              v-if=\"useErrors && errors\"\n              :content=\"errors\"\n              @close=\"errors = null\"\n            />\n            <form\n              class=\"mx-auto w-full md:w-10/12 md:p-4\"\n              @submit.prevent=\"send\"\n            >\n              <div\n                class=\"my-1 w-full py-2 sm:flex sm:items-center sm:justify-between\"\n              >\n                <label\n                  for=\"Email\"\n                  class=\"w-4/12\"\n                  :class=\"{\n                    'text-red-500':\n                      errors && errors.errors && errors.errors.email,\n                  }\"\n                >\n                  Email\n                </label>\n                <input\n                  v-model=\"form.email\"\n                  type=\"email\"\n                  name=\"email\"\n                  :class=\"{\n                    'border-red-500':\n                      errors && errors.errors && errors.errors.email,\n                  }\"\n                  :disabled=\"loading\"\n                  class=\"mt-3 w-full rounded border border-gray-300 bg-white p-2 focus:outline-none sm:mt-0 sm:w-8/12\"\n                />\n              </div>\n\n              <div\n                class=\"my-1 w-full py-2 sm:flex sm:items-center sm:justify-end\"\n              >\n                <div\n                  class=\"mt-3 flex w-full items-center justify-between sm:mt-0 sm:w-8/12\"\n                >\n                  <AppButton\n                    :loading=\"loading\"\n                    :disabled=\"loading || success\"\n                    :text=\"loading ? 'Send Email' : 'Send Email'\"\n                    btn-class=\"uppercase leading-snug inline-block rounded bg-blue-600 px-7 py-3 text-sm font-medium uppercase leading-snug text-white shadow-md transition duration-150 ease-in-out hover:bg-indigo-700 hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg \"\n                    type=\"submit\"\n                  >\n                    <template #text>\n                      <PaperAirplaneIcon\n                        v-if=\"!loading && !success\"\n                        class=\"mr-2 h-6 w-6\"\n                      />\n                      <CheckCircleIcon\n                        v-if=\"!loading && success\"\n                        class=\"mr-2 h-6 w-6\"\n                      />\n                      <CircleSvg v-if=\"loading\" class=\"mr-2 h-6 w-6\" />\n                      Send Email\n                    </template>\n                  </AppButton>\n\n                  <router-link\n                    :to=\"{ name: 'login' }\"\n                    class=\"text-sm font-bold text-blue-500 hover:underline\"\n                  >\n                    <span class=\"fa fa-reply fa-fw\" /> Go back\n                  </router-link>\n                </div>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport Success from '@components/Success.vue';\nimport Errors from '@components/Errors.vue';\nimport CircleSvg from '@components/CircleSvg.vue';\nimport { PaperAirplaneIcon, CheckCircleIcon } from '@heroicons/vue/24/outline';\nimport { mapActions } from 'vuex';\n\nexport default {\n  components: {\n    Success,\n    Errors,\n    CircleSvg,\n    PaperAirplaneIcon,\n    CheckCircleIcon,\n  },\n  props: {\n    useErrors: { type: Boolean, default: false },\n    useSuccess: { type: Boolean, default: false },\n  },\n  data() {\n    return {\n      form: {\n        email: '',\n      },\n      errors: null,\n      success: null,\n      loading: false,\n    };\n  },\n  methods: {\n    ...mapActions({\n      forgotPassword: 'auth/forgotPassword',\n      popToast: 'toast/popToast',\n    }),\n    async send() {\n      this.loading = true;\n      this.errors = null;\n      this.success = null;\n      try {\n        await this.forgotPassword(this.form).then((response) => {\n          this.loading = false;\n          this.success = response;\n          this.popToast({\n            message: response,\n            timer: 10000,\n            icon: 'success',\n          });\n        });\n      } catch (e) {\n        if (e.response && e.response.status === 422) {\n          this.errors = { message: e.response.data.message };\n          this.popToast({\n            message: e.response.data.message,\n            timer: 10000,\n            icon: 'error',\n          });\n        } else if (e.response && e.response.status === 401) {\n          this.errors = { message: e.response.data.message };\n          this.popToast({\n            message: 'Invalid Email',\n            timer: 10000,\n            icon: 'error',\n          });\n        } else {\n          this.popToast({\n            message: 'An error occured',\n            timer: 10000,\n            icon: 'error',\n          });\n        }\n        this.loading = false;\n      }\n    },\n  },\n};\n</script>\n"],"names":["_createElementVNode","_openBlock","_createElementBlock","_createBlock","_normalizeClass","_vModelText","_createVNode"],"mappings":"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"}