{"version":3,"file":"ResetPassword-legacy-92a957ab.js","sources":["../../../resources/js/views/pages/ResetPassword.vue"],"sourcesContent":["<template>\n  <div class=\"mx-auto max-w-screen-md text-gray-900\">\n    <div class=\"flex justify-center\">\n      <div class=\"flex-1\">\n        <div class=\"w-auto border\">\n          <div class=\"border-b p-4 font-semibold text-gray-700\">\n            Reset your password\n          </div>\n          <div class=\"bg-white p-4\">\n            <Success\n              v-if=\"useSuccess && success\"\n              :content=\"success\"\n              @close=\"success = null\"\n            />\n            <Errors\n              v-if=\"useErrors && errors\"\n              :content=\"errors\"\n              @close=\"errors = null\"\n            />\n            <form\n              class=\"mx-auto w-full md:w-10/12 md:p-4\"\n              @submit.prevent=\"reset\"\n            >\n              <div\n                class=\"my-1 w-full py-2 sm:flex sm:items-center sm:justify-between\"\n              >\n                <label\n                  for=\"password\"\n                  class=\"w-4/12\"\n                  :class=\"{\n                    'text-red-500':\n                      errors && errors.errors && errors.errors.password,\n                  }\"\n                >\n                  Password\n                </label>\n                <input\n                  id=\"password\"\n                  v-model=\"form.password\"\n                  type=\"password\"\n                  name=\"password\"\n                  autocomplete=\"on\"\n                  :class=\"{\n                    'border-red-500':\n                      errors && errors.errors && errors.errors.password,\n                  }\"\n                  :disabled=\"loading\"\n                  class=\"mt-3 w-full rounded border border-gray-300 bg-white p-2 focus:outline-none sm:mt-0 sm:w-8/12\"\n                />\n              </div>\n              <div\n                class=\"my-1 w-full py-2 sm:flex sm:items-center sm:justify-between\"\n              >\n                <label\n                  for=\"password_confirmation\"\n                  class=\"w-4/12\"\n                  :class=\"{\n                    'text-red-500':\n                      errors &&\n                      errors.errors &&\n                      errors.errors.password_confirmation,\n                  }\"\n                >\n                  Confirm Password\n                </label>\n                <input\n                  id=\"password_confirmation\"\n                  v-model=\"form.password_confirmation\"\n                  type=\"password\"\n                  name=\"password_confirmation\"\n                  :class=\"{\n                    'border-red-500':\n                      errors &&\n                      errors.errors &&\n                      errors.errors.password_confirmation,\n                  }\"\n                  :disabled=\"loading\"\n                  class=\"mt-3 w-full rounded border border-gray-300 bg-white p-2 focus:outline-none sm:mt-0 sm:w-8/12\"\n                />\n              </div>\n              <div\n                class=\"my-1 w-full py-2 sm:flex sm:items-center sm:justify-end\"\n              >\n                <div\n                  class=\"mt-3 flex w-full items-center justify-between sm:mt-0 sm:w-8/12\"\n                >\n                  <AppButton\n                    :loading=\"loading\"\n                    :disabled=\"loading || success\"\n                    :text=\"loading ? 'Send Email' : 'Send Email'\"\n                    btn-class=\"uppercase leading-snug inline-block rounded bg-blue-600 px-7 py-3 text-sm font-medium uppercase leading-snug text-white shadow-md transition duration-150 ease-in-out hover:bg-indigo-700 hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg \"\n                    type=\"submit\"\n                  >\n                    <template #text>\n                      <CheckCircleIcon\n                        v-if=\"!loading && success\"\n                        class=\"mr-2 h-6 w-6\"\n                      />\n                      <CircleSvg v-if=\"loading\" class=\"mr-2 h-5 w-5\" />\n                      Reset Password\n                    </template>\n                  </AppButton>\n                </div>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport Errors from '@components/Errors.vue';\nimport Success from '@components/Success.vue';\nimport CircleSvg from '@components/CircleSvg.vue';\nimport { CheckCircleIcon } from '@heroicons/vue/24/outline';\nimport { mapActions } from 'vuex';\n\nexport default {\n  components: {\n    Errors,\n    Success,\n    CircleSvg,\n    CheckCircleIcon,\n  },\n  props: {\n    useErrors: { type: Boolean, default: false },\n    useSuccess: { type: Boolean, default: false },\n    token: { type: String, required: true },\n    email: { type: String, required: true },\n  },\n  data() {\n    return {\n      form: {\n        password: '',\n        password_confirmation: '',\n      },\n      errors: null,\n      success: null,\n      loading: false,\n    };\n  },\n  created() {},\n  methods: {\n    ...mapActions({\n      resetPassword: 'auth/resetPassword',\n      popToast: 'toast/popToast',\n    }),\n    async reset() {\n      this.loading = true;\n      this.errors = null;\n      this.success = null;\n      try {\n        await this.resetPassword({\n          email: this.email,\n          token: this.token,\n          ...this.form,\n        }).then((response) => {\n          this.loading = false;\n          this.success = response;\n          this.popToast({\n            message: `${response} redirecting ...`,\n            timer: 10000,\n            icon: 'success',\n          });\n          setTimeout(() => {\n            this.$router.push({ name: 'login' });\n          }, 1000);\n        });\n      } catch (e) {\n        if (e.response && e.response.status === 422) {\n          this.errors = e.response.data.errors;\n          this.popToast({\n            message: Object.values(e.response.data.errors).flat().toString(),\n            timer: 10000,\n            icon: 'error',\n          });\n        } else if (e.response && e.response.status === 401) {\n          this.errors = { message: e.response.data.message };\n          this.popToast({\n            message: 'Unauthorized',\n            timer: 10000,\n            icon: 'error',\n          });\n        } else {\n          this.popToast({\n            message: 'An error occured',\n            timer: 10000,\n            icon: 'error',\n          });\n        }\n        this.loading = false;\n      }\n    },\n  },\n};\n</script>\n"],"names":["_sfc_main","components","Errors","Success","CircleSvg","CheckCircleIcon","props","useErrors","type","Boolean","default","useSuccess","token","String","required","email","data","form","password","password_confirmation","errors","success","loading","created","methods","mapActions","resetPassword","popToast","reset","this","then","response","message","timer","icon","setTimeout","$router","push","name","e","status","Object","values","flat","toString","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_createElementVNode","_hoisted_6","_hoisted_7","_hoisted_9","_hoisted_11","_hoisted_12","_openBlock","_createElementBlock","$props","$data","_createBlock","_component_Success","content","onClose","_component_Errors","onSubmit","$options","args","for","id","_cache","$event","autocomplete","_normalizeClass","disabled","_vModelText","_createVNode","_component_AppButton","text","_component_CheckCircleIcon","_component_CircleSvg"],"mappings":"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"}