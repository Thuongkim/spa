System.register(["./Errors-legacy-367ae0e4.js","./Success-legacy-3370d1dd.js","./app-legacy-3595deb5.js","./vendor-legacy-98b246d1.js","./__commonjsHelpers__-legacy-742540af.js"],(function(s,e){"use strict";var r,o,t,a,n,i,l,d,c,u,m,p,w,g,f,h,y,b,x;return{setters:[s=>{r=s.E},s=>{o=s.S},s=>{t=s._,a=s.C},s=>{n=s.ao,i=s.e,l=s.r,d=s.l,c=s.i,u=s.g,m=s.k,p=s.s,w=s.n,g=s.p,f=s.am,h=s.j,y=s.w,b=s.o,x=s.q},null],execute:function(){const e={components:{Errors:r,Success:o,CircleSvg:a,CheckCircleIcon:n},props:{useErrors:{type:Boolean,default:!1},useSuccess:{type:Boolean,default:!1},token:{type:String,required:!0},email:{type:String,required:!0}},data:()=>({form:{password:"",password_confirmation:""},errors:null,success:null,loading:!1}),created(){},methods:{...i({resetPassword:"auth/resetPassword",popToast:"toast/popToast"}),async reset(){this.loading=!0,this.errors=null,this.success=null;try{await this.resetPassword({email:this.email,token:this.token,...this.form}).then((s=>{this.loading=!1,this.success=s,this.popToast({message:`${s} redirecting ...`,timer:1e4,icon:"success"}),setTimeout((()=>{this.$router.push({name:"login"})}),1e3)}))}catch(s){s.response&&422===s.response.status?(this.errors=s.response.data.errors,this.popToast({message:Object.values(s.response.data.errors).flat().toString(),timer:1e4,icon:"error"})):s.response&&401===s.response.status?(this.errors={message:s.response.data.message},this.popToast({message:"Unauthorized",timer:1e4,icon:"error"})):this.popToast({message:"An error occured",timer:1e4,icon:"error"}),this.loading=!1}}}},v={class:"mx-auto max-w-screen-md text-gray-900"},S={class:"flex justify-center"},_={class:"flex-1"},j={class:"w-auto border"},k=c("div",{class:"border-b p-4 font-semibold text-gray-700"}," Reset your password ",-1),C={class:"bg-white p-4"},E={class:"my-1 w-full py-2 sm:flex sm:items-center sm:justify-between"},T=["disabled"],P={class:"my-1 w-full py-2 sm:flex sm:items-center sm:justify-between"},q=["disabled"],B={class:"my-1 w-full py-2 sm:flex sm:items-center sm:justify-end"},U={class:"mt-3 flex w-full items-center justify-between sm:mt-0 sm:w-8/12"};s("default",t(e,[["render",function(s,e,r,o,t,a){const n=l("Success"),i=l("Errors"),A=l("CheckCircleIcon"),I=l("CircleSvg"),R=l("AppButton");return b(),d("div",v,[c("div",S,[c("div",_,[c("div",j,[k,c("div",C,[r.useSuccess&&t.success?(b(),u(n,{key:0,content:t.success,onClose:e[0]||(e[0]=s=>t.success=null)},null,8,["content"])):m("",!0),r.useErrors&&t.errors?(b(),u(i,{key:1,content:t.errors,onClose:e[1]||(e[1]=s=>t.errors=null)},null,8,["content"])):m("",!0),c("form",{class:"mx-auto w-full md:w-10/12 md:p-4",onSubmit:e[4]||(e[4]=p(((...s)=>a.reset&&a.reset(...s)),["prevent"]))},[c("div",E,[c("label",{for:"password",class:w(["w-4/12",{"text-red-500":t.errors&&t.errors.errors&&t.errors.errors.password}])}," Password ",2),g(c("input",{id:"password","onUpdate:modelValue":e[2]||(e[2]=s=>t.form.password=s),type:"password",name:"password",autocomplete:"on",class:w([{"border-red-500":t.errors&&t.errors.errors&&t.errors.errors.password},"mt-3 w-full rounded border border-gray-300 bg-white p-2 focus:outline-none sm:mt-0 sm:w-8/12"]),disabled:t.loading},null,10,T),[[f,t.form.password]])]),c("div",P,[c("label",{for:"password_confirmation",class:w(["w-4/12",{"text-red-500":t.errors&&t.errors.errors&&t.errors.errors.password_confirmation}])}," Confirm Password ",2),g(c("input",{id:"password_confirmation","onUpdate:modelValue":e[3]||(e[3]=s=>t.form.password_confirmation=s),type:"password",name:"password_confirmation",class:w([{"border-red-500":t.errors&&t.errors.errors&&t.errors.errors.password_confirmation},"mt-3 w-full rounded border border-gray-300 bg-white p-2 focus:outline-none sm:mt-0 sm:w-8/12"]),disabled:t.loading},null,10,q),[[f,t.form.password_confirmation]])]),c("div",B,[c("div",U,[h(R,{loading:t.loading,disabled:t.loading||t.success,text:(t.loading,"Send Email"),"btn-class":"uppercase leading-snug inline-block rounded bg-blue-600 px-7 py-3 text-sm font-medium uppercase leading-snug text-white shadow-md transition duration-150 ease-in-out hover:bg-indigo-700 hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg ",type:"submit"},{text:y((()=>[!t.loading&&t.success?(b(),u(A,{key:0,class:"mr-2 h-6 w-6"})):m("",!0),t.loading?(b(),u(I,{key:1,class:"mr-2 h-5 w-5"})):m("",!0),x(" Reset Password ")])),_:1},8,["loading","disabled","text"])])])],32)])])])])])}]]))}}}));
//# sourceMappingURL=ResetPassword-legacy-92a957ab.js.map
