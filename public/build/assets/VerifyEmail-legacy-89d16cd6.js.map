{"version":3,"file":"VerifyEmail-legacy-89d16cd6.js","sources":["../../../resources/js/views/pages/VerifyEmail.vue"],"sourcesContent":["<template>\n  <div class=\"mx-auto max-w-screen-md text-gray-900\">\n    <div class=\"flex justify-center\">\n      <div class=\"flex-1\">\n        <div\n          class=\"w-auto rounded border-gray-300 bg-white p-3 text-gray-800 shadow dark:bg-slate-900 dark:text-gray-100\"\n        >\n          <success v-if=\"success\" :content=\"success\" @close=\"success = null\" />\n          <errors\n            v-if=\"errors\"\n            :content=\"errors\"\n            container-class=\"w-full\"\n            @close=\"errors = null\"\n          />\n\n          <h5 class=\"border-gray-300 p-3 pt-6 text-center font-semibold\">\n            {{\n              user && user.email_verified_at\n                ? 'Your email is already confirmed'\n                : 'Please confirm verification of your email'\n            }}\n          </h5>\n\n          <div class=\"rounded p-4\">\n            <div\n              class=\"my-1 mx-auto mt-3 flex w-full items-center justify-center py-2 sm:mt-0 sm:w-8/12 md:w-10/12 md:p-4\"\n            >\n              <div v-if=\"user && user.email_verified_at\">\n                <div class=\"text-center\">\n                  <router-link\n                    v-if=\"authenticated\"\n                    v-slot=\"{ isActive }\"\n                    :to=\"{ name: 'dashboard' }\"\n                    class=\"text-base font-medium text-gray-500 hover:text-gray-900 dark:text-gray-300 dark:hover:text-gray-400\"\n                    @click=\"closeDrop\"\n                  >\n                    <HomeIcon class=\"mx-auto mb-3 h-20 w-20 text-center\" />\n                    <span class=\"sr-only\">Go Home</span>\n                  </router-link>\n                </div>\n              </div>\n              <div v-else>\n                <div\n                  v-if=\"loading\"\n                  class=\"flex items-center justify-center rounded-sm bg-blue-500 p-2 px-6 text-white hover:bg-blue-600\"\n                >\n                  Verifying Email\n                  <circle-svg class=\"ml-3 h-5 w-5\" />\n                </div>\n                <AppButton\n                  v-else\n                  :disabled=\"loading\"\n                  :loading=\"loading\"\n                  @click=\"errors ? resend() : verify()\"\n                >\n                  <template #text>\n                    {{\n                      errors ? 'Oops! Resend Verification?' : 'Click to Verify'\n                    }}\n                    <span\n                      class=\"fa-fw fa-envelope ml-2\"\n                      :class=\"errors ? 'far fa-envelope' : 'fas fa-check'\"\n                    />\n                  </template>\n                </AppButton>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from 'vuex';\nimport Errors from '@components/Errors.vue';\nimport Success from '@components/Success.vue';\nimport CircleSvg from '@components/CircleSvg.vue';\nimport { HomeIcon } from '@heroicons/vue/24/outline';\n\nexport default {\n  components: {\n    Errors,\n    Success,\n    CircleSvg,\n    HomeIcon,\n  },\n  props: {\n    id: {\n      type: Number,\n      required: true,\n    },\n    hash: {\n      type: String,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      errors: null,\n      success: '',\n      loading: false,\n    };\n  },\n  computed: {\n    ...mapGetters({\n      authenticated: 'auth/authenticated',\n      user: 'auth/user',\n      roles: 'auth/roles',\n    }),\n  },\n  methods: {\n    ...mapActions({\n      verifyResend: 'auth/verifyResend',\n      verifyEmail: 'auth/verifyEmail',\n      popToast: 'toast/popToast',\n    }),\n    async verify() {\n      this.loading = true;\n      this.errors = null;\n      this.success = '';\n      try {\n        await this.verifyEmail({ id: this.id, hash: this.hash }).then(\n          (response) => {\n            this.loading = false;\n            this.success = 'Email Successfully Verified. Redirecting ...';\n            this.popToast({\n              message: 'Email Successfully Verified',\n              timer: 5000,\n              icon: 'success',\n            });\n            setTimeout(() => {\n              this.$router.push({ name: 'dashboard' });\n            }, 1000);\n          },\n        );\n      } catch (e) {\n        this.errors = 'An errored, please try again later';\n        this.popToast({\n          message: 'An errored, please try again later.',\n          timer: 5000,\n          icon: 'error',\n        });\n        this.loading = false;\n      }\n      this.loading = false;\n    },\n    async resend() {\n      this.loading = true;\n      try {\n        await this.verifyResend({ id: this.id }).then((response) => {\n          this.loading = false;\n          this.popToast({\n            message: 'Email sent.',\n            timer: 5000,\n            icon: 'success',\n          });\n        });\n      } catch (e) {\n        this.popToast({\n          message: 'An errored, please try again later.',\n          timer: 5000,\n          icon: 'error',\n        });\n        this.loading = false;\n      }\n    },\n  },\n};\n</script>\n"],"names":["_sfc_main","components","Errors","Success","CircleSvg","HomeIcon","props","id","type","Number","required","hash","String","data","errors","success","loading","computed","mapGetters","authenticated","user","roles","methods","mapActions","verifyResend","verifyEmail","popToast","verify","this","then","response","message","timer","icon","setTimeout","$router","push","name","e","resend","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_9","_hoisted_10","_createElementVNode","_openBlock","_createElementBlock","$data","_createBlock","_component_success","content","onClose","_component_errors","_toDisplayString","_ctx","email_verified_at","_hoisted_8","_component_router_link","to","onClick","closeDrop","default","_withCtx","isActive","_createVNode","_component_HomeIcon","_hoisted_11","_hoisted_12","_component_circle_svg","_component_AppButton","disabled","_cache","$event","$options","text","_createTextVNode","_normalizeClass"],"mappings":"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"}