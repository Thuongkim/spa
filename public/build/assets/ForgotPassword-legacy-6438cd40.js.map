{"version":3,"file":"ForgotPassword-legacy-6438cd40.js","sources":["../../../resources/js/views/pages/ForgotPassword.vue"],"sourcesContent":["<template>\n  <div class=\"mx-auto max-w-screen-md text-gray-900\">\n    <div class=\"flex justify-center\">\n      <div class=\"flex-1\">\n        <div class=\"w-auto border\">\n          <div class=\"border-b p-4 font-semibold text-gray-700\">\n            Forgot your Password?\n          </div>\n          <div class=\"bg-white p-4\">\n            <Success\n              v-if=\"useSuccess && success\"\n              :content=\"success\"\n              @close=\"success = null\"\n            />\n            <Errors\n              v-if=\"useErrors && errors\"\n              :content=\"errors\"\n              @close=\"errors = null\"\n            />\n            <form\n              class=\"mx-auto w-full md:w-10/12 md:p-4\"\n              @submit.prevent=\"send\"\n            >\n              <div\n                class=\"my-1 w-full py-2 sm:flex sm:items-center sm:justify-between\"\n              >\n                <label\n                  for=\"Email\"\n                  class=\"w-4/12\"\n                  :class=\"{\n                    'text-red-500':\n                      errors && errors.errors && errors.errors.email,\n                  }\"\n                >\n                  Email\n                </label>\n                <input\n                  v-model=\"form.email\"\n                  type=\"email\"\n                  name=\"email\"\n                  :class=\"{\n                    'border-red-500':\n                      errors && errors.errors && errors.errors.email,\n                  }\"\n                  :disabled=\"loading\"\n                  class=\"mt-3 w-full rounded border border-gray-300 bg-white p-2 focus:outline-none sm:mt-0 sm:w-8/12\"\n                />\n              </div>\n\n              <div\n                class=\"my-1 w-full py-2 sm:flex sm:items-center sm:justify-end\"\n              >\n                <div\n                  class=\"mt-3 flex w-full items-center justify-between sm:mt-0 sm:w-8/12\"\n                >\n                  <AppButton\n                    :loading=\"loading\"\n                    :disabled=\"loading || success\"\n                    :text=\"loading ? 'Send Email' : 'Send Email'\"\n                    btn-class=\"uppercase leading-snug inline-block rounded bg-blue-600 px-7 py-3 text-sm font-medium uppercase leading-snug text-white shadow-md transition duration-150 ease-in-out hover:bg-indigo-700 hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg \"\n                    type=\"submit\"\n                  >\n                    <template #text>\n                      <PaperAirplaneIcon\n                        v-if=\"!loading && !success\"\n                        class=\"mr-2 h-6 w-6\"\n                      />\n                      <CheckCircleIcon\n                        v-if=\"!loading && success\"\n                        class=\"mr-2 h-6 w-6\"\n                      />\n                      <CircleSvg v-if=\"loading\" class=\"mr-2 h-6 w-6\" />\n                      Send Email\n                    </template>\n                  </AppButton>\n\n                  <router-link\n                    :to=\"{ name: 'login' }\"\n                    class=\"text-sm font-bold text-blue-500 hover:underline\"\n                  >\n                    <span class=\"fa fa-reply fa-fw\" /> Go back\n                  </router-link>\n                </div>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport Success from '@components/Success.vue';\nimport Errors from '@components/Errors.vue';\nimport CircleSvg from '@components/CircleSvg.vue';\nimport { PaperAirplaneIcon, CheckCircleIcon } from '@heroicons/vue/24/outline';\nimport { mapActions } from 'vuex';\n\nexport default {\n  components: {\n    Success,\n    Errors,\n    CircleSvg,\n    PaperAirplaneIcon,\n    CheckCircleIcon,\n  },\n  props: {\n    useErrors: { type: Boolean, default: false },\n    useSuccess: { type: Boolean, default: false },\n  },\n  data() {\n    return {\n      form: {\n        email: '',\n      },\n      errors: null,\n      success: null,\n      loading: false,\n    };\n  },\n  methods: {\n    ...mapActions({\n      forgotPassword: 'auth/forgotPassword',\n      popToast: 'toast/popToast',\n    }),\n    async send() {\n      this.loading = true;\n      this.errors = null;\n      this.success = null;\n      try {\n        await this.forgotPassword(this.form).then((response) => {\n          this.loading = false;\n          this.success = response;\n          this.popToast({\n            message: response,\n            timer: 10000,\n            icon: 'success',\n          });\n        });\n      } catch (e) {\n        if (e.response && e.response.status === 422) {\n          this.errors = { message: e.response.data.message };\n          this.popToast({\n            message: e.response.data.message,\n            timer: 10000,\n            icon: 'error',\n          });\n        } else if (e.response && e.response.status === 401) {\n          this.errors = { message: e.response.data.message };\n          this.popToast({\n            message: 'Invalid Email',\n            timer: 10000,\n            icon: 'error',\n          });\n        } else {\n          this.popToast({\n            message: 'An error occured',\n            timer: 10000,\n            icon: 'error',\n          });\n        }\n        this.loading = false;\n      }\n    },\n  },\n};\n</script>\n"],"names":["_sfc_main","components","Success","Errors","CircleSvg","PaperAirplaneIcon","CheckCircleIcon","props","useErrors","type","Boolean","default","useSuccess","data","form","email","errors","success","loading","methods","mapActions","forgotPassword","popToast","send","this","then","response","message","timer","icon","e","status","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_createElementVNode","_hoisted_6","_hoisted_7","_hoisted_9","_hoisted_10","_openBlock","_createElementBlock","$props","$data","_createBlock","_component_Success","content","onClose","_component_Errors","onSubmit","$options","args","for","_cache","$event","name","_normalizeClass","disabled","_vModelText","_createVNode","_component_AppButton","text","_component_PaperAirplaneIcon","_component_CheckCircleIcon","_component_CircleSvg","_component_router_link","to","_hoisted_11"],"mappings":"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"}