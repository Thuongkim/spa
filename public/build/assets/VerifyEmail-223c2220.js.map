{"version":3,"file":"VerifyEmail-223c2220.js","sources":["../../../resources/js/views/pages/VerifyEmail.vue"],"sourcesContent":["<template>\n  <div class=\"mx-auto max-w-screen-md text-gray-900\">\n    <div class=\"flex justify-center\">\n      <div class=\"flex-1\">\n        <div\n          class=\"w-auto rounded border-gray-300 bg-white p-3 text-gray-800 shadow dark:bg-slate-900 dark:text-gray-100\"\n        >\n          <success v-if=\"success\" :content=\"success\" @close=\"success = null\" />\n          <errors\n            v-if=\"errors\"\n            :content=\"errors\"\n            container-class=\"w-full\"\n            @close=\"errors = null\"\n          />\n\n          <h5 class=\"border-gray-300 p-3 pt-6 text-center font-semibold\">\n            {{\n              user && user.email_verified_at\n                ? 'Your email is already confirmed'\n                : 'Please confirm verification of your email'\n            }}\n          </h5>\n\n          <div class=\"rounded p-4\">\n            <div\n              class=\"my-1 mx-auto mt-3 flex w-full items-center justify-center py-2 sm:mt-0 sm:w-8/12 md:w-10/12 md:p-4\"\n            >\n              <div v-if=\"user && user.email_verified_at\">\n                <div class=\"text-center\">\n                  <router-link\n                    v-if=\"authenticated\"\n                    v-slot=\"{ isActive }\"\n                    :to=\"{ name: 'dashboard' }\"\n                    class=\"text-base font-medium text-gray-500 hover:text-gray-900 dark:text-gray-300 dark:hover:text-gray-400\"\n                    @click=\"closeDrop\"\n                  >\n                    <HomeIcon class=\"mx-auto mb-3 h-20 w-20 text-center\" />\n                    <span class=\"sr-only\">Go Home</span>\n                  </router-link>\n                </div>\n              </div>\n              <div v-else>\n                <div\n                  v-if=\"loading\"\n                  class=\"flex items-center justify-center rounded-sm bg-blue-500 p-2 px-6 text-white hover:bg-blue-600\"\n                >\n                  Verifying Email\n                  <circle-svg class=\"ml-3 h-5 w-5\" />\n                </div>\n                <AppButton\n                  v-else\n                  :disabled=\"loading\"\n                  :loading=\"loading\"\n                  @click=\"errors ? resend() : verify()\"\n                >\n                  <template #text>\n                    {{\n                      errors ? 'Oops! Resend Verification?' : 'Click to Verify'\n                    }}\n                    <span\n                      class=\"fa-fw fa-envelope ml-2\"\n                      :class=\"errors ? 'far fa-envelope' : 'fas fa-check'\"\n                    />\n                  </template>\n                </AppButton>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from 'vuex';\nimport Errors from '@components/Errors.vue';\nimport Success from '@components/Success.vue';\nimport CircleSvg from '@components/CircleSvg.vue';\nimport { HomeIcon } from '@heroicons/vue/24/outline';\n\nexport default {\n  components: {\n    Errors,\n    Success,\n    CircleSvg,\n    HomeIcon,\n  },\n  props: {\n    id: {\n      type: Number,\n      required: true,\n    },\n    hash: {\n      type: String,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      errors: null,\n      success: '',\n      loading: false,\n    };\n  },\n  computed: {\n    ...mapGetters({\n      authenticated: 'auth/authenticated',\n      user: 'auth/user',\n      roles: 'auth/roles',\n    }),\n  },\n  methods: {\n    ...mapActions({\n      verifyResend: 'auth/verifyResend',\n      verifyEmail: 'auth/verifyEmail',\n      popToast: 'toast/popToast',\n    }),\n    async verify() {\n      this.loading = true;\n      this.errors = null;\n      this.success = '';\n      try {\n        await this.verifyEmail({ id: this.id, hash: this.hash }).then(\n          (response) => {\n            this.loading = false;\n            this.success = 'Email Successfully Verified. Redirecting ...';\n            this.popToast({\n              message: 'Email Successfully Verified',\n              timer: 5000,\n              icon: 'success',\n            });\n            setTimeout(() => {\n              this.$router.push({ name: 'dashboard' });\n            }, 1000);\n          },\n        );\n      } catch (e) {\n        this.errors = 'An errored, please try again later';\n        this.popToast({\n          message: 'An errored, please try again later.',\n          timer: 5000,\n          icon: 'error',\n        });\n        this.loading = false;\n      }\n      this.loading = false;\n    },\n    async resend() {\n      this.loading = true;\n      try {\n        await this.verifyResend({ id: this.id }).then((response) => {\n          this.loading = false;\n          this.popToast({\n            message: 'Email sent.',\n            timer: 5000,\n            icon: 'success',\n          });\n        });\n      } catch (e) {\n        this.popToast({\n          message: 'An errored, please try again later.',\n          timer: 5000,\n          icon: 'error',\n        });\n        this.loading = false;\n      }\n    },\n  },\n};\n</script>\n"],"names":["_createElementVNode","_openBlock","_createElementBlock","_createBlock","_toDisplayString","_withCtx","_createVNode","_createTextVNode","_normalizeClass"],"mappings":"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"}