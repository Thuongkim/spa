{"version":3,"file":"SocialiteLogins-legacy-a755dad6.js","sources":["../../../resources/js/components/auth/SocialiteLogins.vue"],"sourcesContent":["<template>\n  <div class=\"flex flex-wrap justify-around\">\n    <span\n      v-if=\"logins.facebook == 1\"\n      v-tippy=\"'Facebook'\"\n      class=\"fa-brands fa-square-facebook fa-3x mr-3 mb-2 cursor-pointer text-blue-500 opacity-80 transition duration-300 hover:opacity-100\"\n      :class=\"loading ? 'disabled opacity-40' : ''\"\n      @click=\"socialiteLogin('facebook')\"\n    />\n    <span\n      v-if=\"logins.twitter == 1\"\n      v-tippy=\"'Twitter'\"\n      class=\"fa-brands fa-twitter fa-3x mr-3 mb-2 cursor-pointer text-blue-300 opacity-80 transition duration-300 hover:opacity-100\"\n      :class=\"loading ? 'disabled opacity-40' : ''\"\n      @click=\"socialiteLogin('twitter')\"\n    />\n    <span\n      v-if=\"logins.instagram == 1\"\n      v-tippy=\"'Instagram'\"\n      class=\"fa-brands fa-instagram fa-3x mr-3 mb-2 cursor-pointer text-gray-700 opacity-80 transition duration-300 hover:opacity-100\"\n      :class=\"loading ? 'disabled opacity-40' : ''\"\n      @click=\"socialiteLogin('instagram')\"\n    />\n    <span\n      v-if=\"logins.github == 1\"\n      v-tippy=\"'GitHub'\"\n      class=\"fa-brands fa-github fa-3x mr-3 mb-2 cursor-pointer text-gray-800 opacity-80 transition duration-300 hover:opacity-100\"\n      :class=\"loading ? 'disabled opacity-40' : ''\"\n      @click=\"socialiteLogin('github')\"\n    />\n    <span\n      v-if=\"logins.youtube == 1\"\n      v-tippy=\"'YouTube'\"\n      class=\"fa-brands fa-youtube fa-3x mr-3 mb-2 cursor-pointer text-red-500 opacity-80 transition duration-300 hover:opacity-100\"\n      :class=\"loading ? 'disabled opacity-40' : ''\"\n      @click=\"socialiteLogin('youtube')\"\n    />\n    <span\n      v-if=\"logins.google == 1\"\n      v-tippy=\"'Google'\"\n      class=\"fa-brands fa-google fa-3x mr-3 mb-2 cursor-pointer text-red-500 opacity-80 transition duration-300 hover:opacity-100\"\n      :class=\"loading ? 'disabled opacity-40' : ''\"\n      @click=\"socialiteLogin('google')\"\n    />\n    <span\n      v-if=\"logins.linkedin == 1\"\n      v-tippy=\"'LinkedIn'\"\n      class=\"fa-brands fa-linkedin fa-3x mr-3 mb-2 cursor-pointer text-blue-700 opacity-80 transition duration-300 hover:opacity-100\"\n      :class=\"loading ? 'disabled opacity-40' : ''\"\n      @click=\"socialiteLogin('linkedin')\"\n    />\n    <span\n      v-if=\"logins.twitch == 1\"\n      v-tippy=\"'Twitch'\"\n      class=\"fa-brands fa-twitch fa-3x mr-3 mb-2 cursor-pointer text-blue-600 opacity-80 transition duration-300 hover:opacity-100\"\n      :class=\"loading ? 'disabled opacity-40' : ''\"\n      @click=\"socialiteLogin('twitch')\"\n    />\n    <span\n      v-if=\"logins.apple == 1\"\n      v-tippy=\"'Apple'\"\n      class=\"fa-brands fa-apple fa-3x mr-3 mb-2 cursor-pointer text-gray-800 opacity-80 transition duration-300 hover:opacity-100\"\n      :class=\"loading ? 'disabled opacity-40' : ''\"\n      @click=\"socialiteLogin('apple')\"\n    />\n    <span\n      v-if=\"logins.microsoft == 1\"\n      v-tippy=\"'Microsoft'\"\n      class=\"fa-brands fa-microsoft fa-3x mr-3 mb-2 cursor-pointer text-blue-300 opacity-80 transition duration-300 hover:opacity-100\"\n      :class=\"loading ? 'disabled opacity-40' : ''\"\n      @click=\"socialiteLogin('microsoft')\"\n    />\n    <span\n      v-if=\"logins.tiktok == 1\"\n      v-tippy=\"'TikTok'\"\n      class=\"fa-brands fa-tiktok fa-3x mr-3 mb-2 cursor-pointer text-pink-600 opacity-80 transition duration-300 hover:opacity-100\"\n      :class=\"loading ? 'disabled opacity-40' : ''\"\n      @click=\"socialiteLogin('tiktok')\"\n    />\n    <span\n      v-if=\"logins.zoho == 1\"\n      v-tippy=\"'Zoho'\"\n      class=\"fas fa-z fa-3x mr-3 mb-2 cursor-pointer text-yellow-500 opacity-80 transition duration-300 hover:opacity-100\"\n      :class=\"loading ? 'disabled opacity-40' : ''\"\n      @click=\"socialiteLogin('zoho')\"\n    />\n    <span\n      v-if=\"logins.stackexchange == 1\"\n      v-tippy=\"'StackExchange'\"\n      class=\"fa-brands fa-stack-exchange fa-3x mr-3 mb-2 cursor-pointer text-blue-400 opacity-80 transition duration-300 hover:opacity-100\"\n      :class=\"loading ? 'disabled opacity-40' : ''\"\n      @click=\"socialiteLogin('stackexchange')\"\n    />\n    <span\n      v-if=\"logins.gitlab == 1\"\n      v-tippy=\"'GitLab'\"\n      class=\"fa-brands fa-square-gitlab fa-3x mr-3 mb-2 cursor-pointer text-orange-400 opacity-80 transition duration-300 hover:opacity-100\"\n      :class=\"loading ? 'disabled opacity-40' : ''\"\n      @click=\"socialiteLogin('gitlab')\"\n    />\n    <span\n      v-if=\"logins.reddit == 1\"\n      v-tippy=\"'GitLab'\"\n      class=\"fa-brands fa-square-reddit fa-3x mr-3 mb-2 cursor-pointer text-orange-700 opacity-80 transition duration-300 hover:opacity-100\"\n      :class=\"loading ? 'disabled opacity-40' : ''\"\n      @click=\"socialiteLogin('reddit')\"\n    />\n    <span\n      v-if=\"logins.snapchat == 1\"\n      v-tippy=\"'Snapchat'\"\n      class=\"fa-brands fa-square-snapchat fa-3x mr-3 mb-2 cursor-pointer text-yellow-400 opacity-80 transition duration-300 hover:opacity-100\"\n      :class=\"loading ? 'disabled opacity-40' : ''\"\n      @click=\"socialiteLogin('snapchat')\"\n    />\n    <span\n      v-if=\"logins.meetup == 1\"\n      v-tippy=\"'Meetup'\"\n      class=\"fa-brands fa-meetup fa-3x mr-3 mb-2 cursor-pointer text-red-400 opacity-80 transition duration-300 hover:opacity-100\"\n      :class=\"loading ? 'disabled opacity-40' : ''\"\n      @click=\"socialiteLogin('meetup')\"\n    />\n    <span\n      v-if=\"logins.atlassian == 1\"\n      v-tippy=\"'Atlassian'\"\n      class=\"fa-brands fa-atlassian fa-3x mr-3 mb-2 cursor-pointer text-blue-800 opacity-80 transition duration-300 hover:opacity-100\"\n      :class=\"loading ? 'disabled opacity-40' : ''\"\n      @click=\"socialiteLogin('atlassian')\"\n    />\n\n    <!-- NEW_PROVIDER_PLUG :: Put New Provider HERE -->\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport * as Vue from 'vue';\nimport axios from 'axios';\nimport VueAxios from 'vue-axios';\nimport { mapGetters, mapActions } from 'vuex';\nimport { track } from '@services/analytics';\n\nexport default {\n  name: 'SocialiteLogins',\n  components: {},\n  props: {},\n  setup() {\n    return {};\n  },\n  data() {\n    return {\n      loading: false,\n      window: {},\n      authWindowTitle: 'Authentication Login',\n    };\n  },\n  computed: {\n    ...mapGetters({\n      logins: 'auth/logins',\n      token: 'auth/token',\n    }),\n    socialLoginsEnabled() {\n      if (Object.values(this.logins).find((v) => v == '1')) {\n        return true;\n      }\n      return false;\n    },\n  },\n  watch: {},\n  created() {},\n  mounted() {\n    window.addEventListener('message', this.onMessage, false);\n  },\n  beforeUnmount() {\n    window.removeEventListener('message', this.onMessage);\n  },\n  updated() {},\n  methods: {\n    ...mapActions({\n      popToast: 'toast/popToast',\n      fetchOauthUrl: 'auth/fetchOauthUrl',\n      saveToken: 'auth/saveToken',\n      getUser: 'auth/getUser',\n      getUserByToken: 'auth/getUserByToken',\n    }),\n    track,\n    async socialiteLogin(provider) {\n      this.track(`Social Login Provider Clicked: ${provider}`);\n      this.loading = true;\n      try {\n        await axios.get('/sanctum/csrf-cookie').then((response) => {});\n        const url = await this.fetchOauthUrl({ provider }).then((response) => {\n          this.loading = false;\n          return response;\n        });\n        this.window = this.openWindow(url, this.authWindowTitle);\n      } catch (e) {\n        this.track(\n          `Social Login Provider Failed to Login: ${provider}`,\n          'error',\n          'auth-error',\n        );\n        this.popToast({\n          message: 'Failed to log in.',\n          timer: 10000,\n          icon: 'error',\n        });\n        this.window.close();\n        this.loading = false;\n      }\n    },\n    async onMessage(e) {\n      const self = this;\n      if (e.origin !== window.origin || !e.data.token) {\n        return;\n      }\n      self.popToast({\n        message: 'Successfully logged in',\n        timer: 2500,\n        icon: 'success',\n      });\n      self.track(\n        'Social Login Provider Logged in Successfully',\n        'login',\n        'social login success',\n      );\n      await axios.get('/sanctum/csrf-cookie').then((response) => {});\n      await self.saveToken({ token: e.data.token }).then((response) => {\n        self.getUserByToken({ token: e.data.token }).then(() => {\n          setTimeout(() => {\n            self.$router.push({ name: 'dashboard' });\n          }, 1);\n        });\n      });\n    },\n    openWindow(url, title, options = {}) {\n      if (typeof url === 'object') {\n        options = url;\n        url = '';\n      }\n      options = {\n        url,\n        title,\n        width: 600,\n        height: 720,\n        ...options,\n      };\n      const dualScreenLeft =\n        window.screenLeft !== undefined\n          ? window.screenLeft\n          : window.screen.left;\n      const dualScreenTop =\n        window.screenTop !== undefined ? window.screenTop : window.screen.top;\n      const width = window.innerWidth || document.documentElement.clientWidth;\n      window.screen.width;\n      const height =\n        window.innerHeight || document.documentElement.clientHeight;\n      window.screen.height;\n\n      options.left = width / 2 - options.width / 2 + dualScreenLeft;\n      options.top = height / 2 - options.height / 2 + dualScreenTop;\n\n      const optionsStr = Object.keys(options)\n        .reduce((acc, key) => {\n          acc.push(`${key}=${options[key]}`);\n          return acc;\n        }, [])\n        .join(',');\n      const newWindow = window.open(url, title, optionsStr);\n      if (window.focus) {\n        newWindow.focus();\n      }\n      return newWindow;\n    },\n  },\n};\n</script>\n\n<style scoped></style>\n<style lang=\"scss\" scoped></style>\n"],"names":["_sfc_main","name","components","props","setup","data","loading","window","authWindowTitle","computed","mapGetters","logins","token","socialLoginsEnabled","Object","values","this","find","v","watch","created","mounted","addEventListener","onMessage","beforeUnmount","removeEventListener","updated","methods","mapActions","popToast","fetchOauthUrl","saveToken","getUser","getUserByToken","track","socialiteLogin","provider","axios","get","then","response","url","openWindow","e","message","timer","icon","close","self","origin","setTimeout","$router","push","title","options","width","height","dualScreenLeft","screenLeft","screen","left","dualScreenTop","screenTop","top","innerWidth","document","documentElement","clientWidth","innerHeight","clientHeight","optionsStr","keys","reduce","acc","key","join","newWindow","open","focus","_directive_tippy","_resolveDirective","_hoisted_1","_ctx","facebook","_withDirectives","_openBlock","_createElementBlock","class","_normalizeClass","$data","_cache","$event","$options","_createCommentVNode"],"mappings":"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"}