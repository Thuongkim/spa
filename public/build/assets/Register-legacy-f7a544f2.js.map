{"version":3,"file":"Register-legacy-f7a544f2.js","sources":["../../../resources/js/views/pages/Register.vue"],"sourcesContent":["<template>\n  <div class=\"mx-auto max-w-screen-md text-gray-900\">\n    <div class=\"flex justify-center\">\n      <div class=\"flex-1\">\n        <div class=\"w-auto rounded border\">\n          <div class=\"border-b p-4 font-semibold text-gray-600\">Register</div>\n\n          <div class=\"rounded bg-white p-4 dark:bg-slate-800\">\n            <errors\n              v-if=\"errors && useInlineMessage\"\n              :content=\"errors\"\n              type=\"error\"\n              @close=\"errors = null\"\n            />\n\n            <form\n              class=\"mx-auto w-full rounded md:w-10/12 md:p-4\"\n              @submit.prevent=\"register\"\n            >\n              <div\n                class=\"my-1 w-full py-2 sm:flex sm:items-center sm:justify-between\"\n              >\n                <label\n                  for=\"Name\"\n                  class=\"w-4/12\"\n                  :class=\"\n                    errors && errors.name\n                      ? 'text-red-500'\n                      : 'text-gray-700 dark:text-gray-200'\n                  \"\n                >\n                  Name\n                </label>\n                <input\n                  v-model=\"form.name\"\n                  type=\"text\"\n                  name=\"name\"\n                  :class=\"{ 'border-red-500': errors && errors.name }\"\n                  :disabled=\"loading\"\n                  class=\"mt-3 w-full rounded border border-gray-300 bg-white p-2 focus:outline-none sm:mt-0 sm:w-8/12\"\n                />\n              </div>\n              <div\n                class=\"my-1 w-full py-2 sm:flex sm:items-center sm:justify-between\"\n              >\n                <label\n                  for=\"Email\"\n                  class=\"w-4/12\"\n                  :class=\"\n                    errors && errors.email\n                      ? 'text-red-500'\n                      : 'text-gray-700 dark:text-gray-200'\n                  \"\n                >\n                  Email\n                </label>\n                <input\n                  v-model=\"form.email\"\n                  type=\"email\"\n                  name=\"email\"\n                  :class=\"{ 'border-red-500': errors && errors.email }\"\n                  :disabled=\"loading\"\n                  class=\"mt-3 w-full rounded border border-gray-300 bg-white p-2 focus:outline-none sm:mt-0 sm:w-8/12\"\n                />\n              </div>\n              <div\n                class=\"my-1 w-full py-2 sm:flex sm:items-center sm:justify-between\"\n              >\n                <label\n                  for=\"Password\"\n                  class=\"w-4/12\"\n                  :class=\"\n                    errors && errors.password\n                      ? 'text-red-500'\n                      : 'text-gray-700 dark:text-gray-200'\n                  \"\n                >\n                  Password\n                </label>\n                <input\n                  v-model=\"form.password\"\n                  type=\"password\"\n                  name=\"password\"\n                  autocomplete=\"on\"\n                  :class=\"{ 'border-red-500': errors && errors.password }\"\n                  :disabled=\"loading\"\n                  class=\"mt-3 w-full rounded border border-gray-300 bg-white p-2 focus:outline-none sm:mt-0 sm:w-8/12\"\n                />\n              </div>\n              <div\n                class=\"my-1 w-full py-2 sm:flex sm:items-center sm:justify-between\"\n              >\n                <label\n                  for=\"Password confirm\"\n                  class=\"w-4/12\"\n                  :class=\"\n                    errors && errors.password\n                      ? 'text-red-500'\n                      : 'text-gray-700 dark:text-gray-200'\n                  \"\n                >\n                  Confirm Password\n                </label>\n                <input\n                  v-model=\"form.password_confirmation\"\n                  type=\"password\"\n                  name=\"password_confirmation\"\n                  :class=\"{ 'border-red-500': errors && errors.password }\"\n                  :disabled=\"loading\"\n                  class=\"mt-3 w-full rounded border border-gray-300 bg-white p-2 focus:outline-none sm:mt-0 sm:w-8/12\"\n                />\n              </div>\n\n              <div\n                class=\"my-1 w-full rounded py-2 sm:flex sm:items-center sm:justify-end\"\n              >\n                <div\n                  class=\"mt-3 flex w-full items-center justify-between rounded sm:mt-0 sm:w-8/12\"\n                >\n                  <AppButton\n                    primary\n                    :loading=\"loading\"\n                    :disabled=\"loading\"\n                    :text=\"loading ? 'Register' : 'Register'\"\n                    btn-class=\"uppercase leading-snug inline-block rounded bg-blue-600 px-7 py-3 text-sm font-medium uppercase leading-snug text-white shadow-md transition duration-150 ease-in-out hover:bg-indigo-700 hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg \"\n                    type=\"submit\"\n                  >\n                    <template #text>\n                      <ArrowRightOnRectangleIcon\n                        v-if=\"!loading\"\n                        class=\"mr-2 h-6 w-6\"\n                      />\n                      <CircleSvg v-if=\"loading\" class=\"mr-2 h-6 w-6\" />\n                      Register\n                    </template>\n                  </AppButton>\n\n                  <span class=\"text-sm\">\n                    <span\n                      class=\"mr-1 cursor-default text-gray-700 dark:text-gray-200\"\n                    >\n                      Already a member?\n                    </span>\n                    <router-link\n                      :to=\"{ name: 'login' }\"\n                      class=\"text-sm font-bold text-blue-500 hover:text-blue-300\"\n                    >\n                      Sign In\n                    </router-link>\n                  </span>\n                </div>\n              </div>\n            </form>\n\n            <div v-if=\"socialLoginsEnabled\" class=\"mt-5\">\n              <div\n                class=\"my-4 flex items-center before:mt-0.5 before:flex-1 before:border-t before:border-gray-300 after:mt-0.5 after:flex-1 after:border-t after:border-gray-300\"\n              >\n                <p class=\"mx-4 mb-0 text-center font-semibold\">Or</p>\n              </div>\n              <h3 class=\"mb-3 font-bold text-gray-700\">Register with</h3>\n              <SocialiteLogins />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex';\nimport CircleSvg from '@components/CircleSvg.vue';\nimport { ArrowRightOnRectangleIcon } from '@heroicons/vue/24/outline';\nimport Errors from '@components/Errors.vue';\nimport SocialiteLogins from '@components/auth/SocialiteLogins.vue';\n\nexport default {\n  components: {\n    ArrowRightOnRectangleIcon,\n    CircleSvg,\n    Errors,\n    SocialiteLogins,\n  },\n  props: {\n    showSmLogin: { type: Boolean, default: true },\n  },\n  data() {\n    return {\n      form: {\n        name: '',\n        email: '',\n        password: '',\n        password_confirmation: '',\n      },\n      errors: null,\n      loading: false,\n      useInlineMessage: false,\n    };\n  },\n  computed: {\n    ...mapGetters({\n      logins: 'auth/logins',\n    }),\n    socialLoginsEnabled() {\n      if (!this.showSmLogin) {\n        return false;\n      }\n      const a = Object.values(this.logins);\n      const b = a.find((v) => v == '1');\n      if (b) {\n        return true;\n      }\n      return false;\n    },\n  },\n  methods: {\n    ...mapActions({\n      registerApp: 'auth/register',\n      popToast: 'toast/popToast',\n    }),\n    async register() {\n      this.loading = true;\n      this.errors = null;\n      this.success = '';\n      try {\n        await this.registerApp(this.form).then((response) => {\n          this.loading = false;\n          this.$router.push({ name: 'dashboard' });\n        });\n      } catch (e) {\n        if (e.response.status === 422) {\n          this.errors = e.response.data.errors;\n          // this.errors = {}\n          // this.errors.message = Object.values(e.response.data.errors)\n          //   .flat()\n          //   .toString()\n          // this.errors.errors = Object.values(e.response.data.errors)\n          this.popToast({\n            message: Object.values(e.response.data.errors).flat().toString(),\n            timer: 5000,\n            icon: 'error',\n          });\n        }\n        if (e.status === 401) {\n          this.popToast({\n            message: 'Invalid Email or Password',\n            timer: 5000,\n            icon: 'error',\n          });\n        }\n        this.loading = false;\n      }\n    },\n  },\n};\n</script>\n"],"names":["_sfc_main","components","ArrowRightOnRectangleIcon","CircleSvg","Errors","SocialiteLogins","props","showSmLogin","type","Boolean","default","data","form","name","email","password","password_confirmation","errors","loading","useInlineMessage","computed","mapGetters","logins","socialLoginsEnabled","this","Object","values","find","v","methods","mapActions","registerApp","popToast","register","success","then","response","$router","push","e","status","message","flat","toString","timer","icon","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_createElementVNode","_hoisted_6","_hoisted_7","_hoisted_9","_hoisted_11","_hoisted_13","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_21","_openBlock","_createElementBlock","$data","_createBlock","_component_errors","content","onClose","onSubmit","$options","args","for","_cache","$event","disabled","_vModelText","autocomplete","_createVNode","_component_AppButton","primary","text","_component_ArrowRightOnRectangleIcon","_component_CircleSvg","_component_router_link","to","_hoisted_19","_hoisted_20","_component_SocialiteLogins"],"mappings":"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"}